import{Q as A,b as $,a as D}from"./format-ytY8laSO.js";import{Q as I}from"./QTooltip-CbCntXZw.js";import{_ as O,Y as W,a0 as F,r as w,Z as h,a4 as s,a2 as n,a5 as o,f as l,an as P,ab as T,a7 as N,a8 as r,C as y,a6 as i,ac as p,F as L,ad as R,ak as b,G as g,ae as d,aa as m,Q as v,aK as z,ao as G}from"./index-G1u9Lejy.js";import{Q,a as x,b as C,c as k}from"./QTabPanels-DMAYU8lg.js";import{Q as S,a as B,b as E}from"./QPopupProxy-CjwWH78E.js";import{Q as q}from"./QSelect-C3g-BVo1.js";import{Q as K}from"./QForm-CX1M49Px.js";import{C as _}from"./ClosePopup-CT9nyDbK.js";import"./QResizeObserver-CYxcUGkk.js";import"./TouchPan-Bp6kdtwJ.js";let u;const Y={props:["parameters"],emits:["close"],setup(){return{APP:W,uix:F,filters:w([]),template:w({}),enums:w({}),options:w({})}},created(){u=this;let t=u.parameters||{};u.filters=h.isArray(t.filters)?t.filters:[],u.template=h.isObject(t.template)?t.template:{},u.enums={},h.isObject(u.template.enums)&&Object.keys(u.template.enums).forEach(V=>{u.enums[V]=[null].concat(u.template.enums[V])}),u.options={},h.isObject(u.template.options)&&Object.keys(u.template.options).forEach(V=>{u.options[V]=[null].concat(u.template.options[V])})},methods:{on_reset_click(){for(const t of u.filters)delete t.value,delete t.value2},on_filter_click(){for(const t of u.filters)h.isDefined(t.value)&&t.value===null&&delete t.value,h.isDefined(t.value2)&&t.value2===null&&delete t.value2;u.$emit("close",u.filters)}}},Z={key:0},H={key:0,class:"q-mb-xs row"},J={key:1,class:"q-mb-xs"},M={key:0,class:"row"},X={class:"bg-primary"},f={class:"q-pa-xs bg-white row"},ee={class:"col-6 text-left"},ae={class:"col-6 text-right"},le={class:"bg-primary"},oe={class:"q-pa-xs bg-white row"},te={class:"col-6 text-left"},se={class:"col-6 text-right"},de={class:"bg-primary"},ne={class:"q-pa-xs bg-white row"},ue={class:"col-6 text-left"},me={class:"col-6 text-right"},pe={key:2,class:"q-mb-xs"},ce={key:0,class:"row"},ie={key:3,class:"q-mb-xs"},be={key:4,class:"q-mb-xs"},re={key:0,class:"row"},ye={class:"col-6 q-pr-xs text-left"},ve={class:"col-6 q-pl-xs text-right"};function _e(t,V,Ve,c,he,U){return s(),n(G,{style:T("width: "+(t.$q.screen.lt.md?"100%;":"50%;"))},{default:o(()=>[l(P,{class:"q-pa-none header-main",style:T(c.APP?.color?.header?"background: "+c.APP.color.header+" !important;":"")},{default:o(()=>[l(A,{class:"q-pr-none"},{default:o(()=>[l($,null,{default:o(()=>[l(D,{class:"text-h6 text-white"},{default:o(()=>[N(r(t.$t("label.search")),1)]),_:1})]),_:1}),l($,{side:""},{default:o(()=>[y((s(),n(i,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:o(()=>[l(I,null,{default:o(()=>[N(r(t.$t("label.close")),1)]),_:1})]),_:1})),[[_]])]),_:1})]),_:1})]),_:1},8,["style"]),l(P,{style:{"max-height":"70vh"},class:"q-pa-xs q-mt-xs scroll"},{default:o(()=>[(s(!0),p(L,null,R(c.filters,(e,j)=>(s(),p("div",{key:j,class:"q-mb-xs"},[l(K,{onSubmit:U.on_filter_click,onReset:U.on_reset_click},{default:o(()=>[e.type==="words"?(s(),p("div",Z,[e.condition==="BETWEEN"?(s(),p("div",H,[l(b,{type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:"",autogrow:"",class:"col-6 q-pr-xs",style:{"max-height":"200px",overflow:"scroll"}},null,8,["label","modelValue","onUpdate:modelValue"]),l(b,{type:"text",label:e.label,modelValue:e.value2,"onUpdate:modelValue":a=>e.value2=a,filled:"",autogrow:"",class:"col-6 q-pl-xs",style:{"max-height":"200px",overflow:"scroll"}},null,8,["label","modelValue","onUpdate:modelValue"])])):(s(),n(b,{key:1,type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:"",autogrow:"",style:{"max-height":"200px",overflow:"scroll"}},null,8,["label","modelValue","onUpdate:modelValue"]))])):e.type==="datetime"||e.type==="date"||e.type==="time"?(s(),p("div",J,[e.condition==="BETWEEN"?(s(),p("div",M,[l(b,{type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:"",class:"col-6 q-pr-xs"},{append:o(()=>[l(g,{name:e.type==="time"?"schedule":e.type==="date"?"calendar_month":"event",class:"cursor-pointer"},{default:o(()=>[l(S,{"transition-show":"scale","transition-hide":"scale",cover:"",onBeforeShow:a=>c.uix.calendar.beforeShow(e,"tab","proxy_value","value")},{default:o(()=>[d("div",X,[l(Q,{modelValue:e.tab,"onUpdate:modelValue":a=>e.tab=a,class:"bg-primary text-grey-5 shadow-2 text-subtitle2",align:"justify","no-caps":"","indicator-color":"transparent","active-color":"white"},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(x,{key:0,name:"date"},{default:o(()=>[d("span",null,r(t.$t("label.date")),1)]),_:1})):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(x,{key:1,name:"time"},{default:o(()=>[d("span",null,r(t.$t("label.time")),1)]),_:1})):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),l(C,{modelValue:e.tab,"onUpdate:modelValue":a=>e.tab=a},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(k,{key:0,name:"date",class:"q-pa-none"},{default:o(()=>[l(B,{modelValue:e.proxy_value,"onUpdate:modelValue":a=>e.proxy_value=a,mask:e.pattern,square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(k,{key:1,name:"time",class:"q-pa-none"},{default:o(()=>[l(E,{modelValue:e.proxy_value,"onUpdate:modelValue":a=>e.proxy_value=a,mask:e.pattern,format24h:"",square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),d("div",f,[d("div",ee,[y(l(i,{label:t.$t("label.cancel"),color:"red","no-caps":""},null,8,["label"]),[[_]])]),d("div",ae,[y(l(i,{label:t.$t("label.ok"),color:"secondary","no-caps":"",onClick:a=>e.value=e.proxy_value},null,8,["label","onClick"]),[[_]])])])])]),_:2},1032,["onBeforeShow"])]),_:2},1032,["name"])]),_:2},1032,["label","modelValue","onUpdate:modelValue"]),l(b,{type:"text",label:e.label,modelValue:e.value2,"onUpdate:modelValue":a=>e.value2=a,filled:"",class:"col-6 q-pr-xs"},{append:o(()=>[l(g,{name:e.type==="time"?"schedule":e.type==="date"?"calendar_month":"event",class:"cursor-pointer"},{default:o(()=>[l(S,{"transition-show":"scale","transition-hide":"scale",cover:"",onBeforeShow:a=>c.uix.calendar.beforeShow(e,"tab2","proxy_value2","value2")},{default:o(()=>[d("div",le,[l(Q,{modelValue:e.tab2,"onUpdate:modelValue":a=>e.tab2=a,class:"bg-primary text-grey-5 shadow-2 text-subtitle2","no-caps":"","indicator-color":"transparent","active-color":"white"},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(x,{key:0,name:"date"},{default:o(()=>[d("span",null,r(t.$t("label.date")),1)]),_:1})):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(x,{key:1,name:"time"},{default:o(()=>[d("span",null,r(t.$t("label.time")),1)]),_:1})):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),l(C,{modelValue:e.tab2,"onUpdate:modelValue":a=>e.tab2=a},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(k,{key:0,name:"date",class:"q-pa-none"},{default:o(()=>[l(B,{modelValue:e.proxy_value2,"onUpdate:modelValue":a=>e.proxy_value2=a,mask:e.pattern,square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(k,{key:1,name:"time",class:"q-pa-none"},{default:o(()=>[l(E,{modelValue:e.proxy_value2,"onUpdate:modelValue":a=>e.proxy_value2=a,mask:e.pattern,format24h:"",square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),d("div",oe,[d("div",te,[y(l(i,{label:t.$t("label.cancel"),color:"red","no-caps":""},null,8,["label"]),[[_]])]),d("div",se,[y(l(i,{label:t.$t("label.ok"),color:"secondary","no-caps":"",onClick:a=>e.value2=e.proxy_value2},null,8,["label","onClick"]),[[_]])])])])]),_:2},1032,["onBeforeShow"])]),_:2},1032,["name"])]),_:2},1032,["label","modelValue","onUpdate:modelValue"])])):(s(),n(b,{key:1,type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:""},{append:o(()=>[l(g,{name:e.type==="time"?"schedule":e.type==="date"?"calendar_month":"event",class:"cursor-pointer"},{default:o(()=>[l(S,{"transition-show":"scale","transition-hide":"scale",cover:"",onBeforeShow:a=>c.uix.calendar.beforeShow(e,"tab","proxy_value","value")},{default:o(()=>[d("div",de,[l(Q,{modelValue:e.tab,"onUpdate:modelValue":a=>e.tab=a,class:"bg-primary text-grey-5 shadow-2 text-subtitle2","no-caps":"","indicator-color":"transparent","active-color":"white"},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(x,{key:0,name:"date"},{default:o(()=>[d("span",null,r(t.$t("label.date")),1)]),_:1})):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(x,{key:1,name:"time"},{default:o(()=>[d("span",null,r(t.$t("label.time")),1)]),_:1})):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),l(C,{modelValue:e.tab,"onUpdate:modelValue":a=>e.tab=a},{default:o(()=>[e.type==="datetime"||e.type==="date"?(s(),n(k,{key:0,name:"date",class:"q-pa-none"},{default:o(()=>[l(B,{modelValue:e.proxy_value,"onUpdate:modelValue":a=>e.proxy_value=a,mask:e.pattern,square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0),e.type==="datetime"||e.type==="time"?(s(),n(k,{key:1,name:"time",class:"q-pa-none"},{default:o(()=>[l(E,{modelValue:e.proxy_value,"onUpdate:modelValue":a=>e.proxy_value=a,mask:e.pattern,format24h:"",square:""},null,8,["modelValue","onUpdate:modelValue","mask"])]),_:2},1024)):m("",!0)]),_:2},1032,["modelValue","onUpdate:modelValue"]),l(v),d("div",ne,[d("div",ue,[y(l(i,{label:t.$t("label.cancel"),color:"red","no-caps":""},null,8,["label"]),[[_]])]),d("div",me,[y(l(i,{label:t.$t("label.ok"),color:"secondary","no-caps":"",onClick:a=>e.value=e.proxy_value},null,8,["label","onClick"]),[[_]])])])])]),_:2},1032,["onBeforeShow"])]),_:2},1032,["name"])]),_:2},1032,["label","modelValue","onUpdate:modelValue"]))])):e.type==="option"?(s(),p("div",pe,[e.condition==="BETWEEN"?(s(),p("div",ce,[l(q,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.label,options:c.options[e.option],"option-value":"value","option-label":"label","emit-value":"","map-options":"",filled:"",class:"col-6 q-pl-xs"},null,8,["modelValue","onUpdate:modelValue","label","options"]),l(q,{modelValue:e.value2,"onUpdate:modelValue":a=>e.value2=a,label:e.label,options:c.options[e.option],"option-value":"value","option-label":"label","emit-value":"","map-options":"",filled:"",class:"col-6 q-pl-xs"},null,8,["modelValue","onUpdate:modelValue","label","options"])])):(s(),n(q,{key:1,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.label,options:c.options[e.option],"option-value":"value","option-label":"label","emit-value":"","map-options":"",filled:""},null,8,["modelValue","onUpdate:modelValue","label","options"]))])):e.type==="enum"?(s(),p("div",ie,[l(q,{modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,label:e.label,options:c.enums[e.enum],"option-value":"value","option-label":"label","emit-value":"","map-options":"",filled:""},null,8,["modelValue","onUpdate:modelValue","label","options"])])):(s(),p("div",be,[e.condition==="BETWEEN"?(s(),p("div",re,[l(b,{type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:"",class:"col-6 q-pr-xs"},null,8,["label","modelValue","onUpdate:modelValue"]),l(b,{type:"text",label:e.label,modelValue:e.value2,"onUpdate:modelValue":a=>e.value2=a,filled:"",class:"col-6 q-pl-xs"},null,8,["label","modelValue","onUpdate:modelValue"])])):e.type?(s(),n(b,{key:1,type:"text",label:e.label,modelValue:e.value,"onUpdate:modelValue":a=>e.value=a,filled:""},null,8,["label","modelValue","onUpdate:modelValue"])):m("",!0)]))]),_:2},1032,["onSubmit","onReset"])]))),128))]),_:1}),l(v),l(z,{class:"row"},{default:o(()=>[d("div",ye,[l(i,{label:t.$t("label.reset"),color:"orange","no-caps":"",glossy:"",onClick:U.on_reset_click},null,8,["label","onClick"])]),d("div",ve,[l(i,{label:t.$t("label.filter"),color:"purple","no-caps":"",glossy:"",onClick:U.on_filter_click},null,8,["label","onClick"])])]),_:1})]),_:1},8,["style"])}const Ee=O(Y,[["render",_e]]);export{Ee as default};
