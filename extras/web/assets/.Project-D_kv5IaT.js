const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Module-YZIGW_pc.js","assets/QTooltip-yDWh9haU.js","assets/index-DR8vcSVV.js","assets/index-CWourn4h.css","assets/QImg-D9U1VciP.js","assets/QSelect-DRrcuyuj.js","assets/format-B2bnFOAj.js","assets/QForm-BfZt62if.js","assets/ClosePopup-Dm8m1oe-.js","assets/TouchPan-D6T6wx6r.js"])))=>i.map(i=>d[i]);
import{l as ne,v as ie,ag as oe,y as se,c as o,r as b,w as ue,ah as L,ai as re,aj as de,h as w,ak as R,g as ce,a6 as T,_ as me,al as ge,Z as j,$ as U,a0 as Y,ac as N,ae as c,f as d,a5 as v,a2 as q,aa as ve,a8 as h,F as K,ad as be,am as fe,a3 as ye,a4 as f,a7 as W,G as M,an as G,ao as _e,C as he,ab as pe,ap as xe}from"./index-DR8vcSVV.js";import{Q as Se}from"./QSelect-DRrcuyuj.js";import{Q as ke}from"./QTooltip-yDWh9haU.js";import{Q as Ve}from"./QForm-BfZt62if.js";import{c as Pe}from"./format-B2bnFOAj.js";import{Q as we}from"./QImg-D9U1VciP.js";import{T as Ce}from"./TouchPan-D6T6wx6r.js";function F(e,i){return[!0,!1].includes(e)?e:i}const Be=ne({name:"QPagination",props:{...ie,modelValue:{type:Number,required:!0},min:{type:[Number,String],default:1},max:{type:[Number,String],required:!0},maxPages:{type:[Number,String],default:0,validator:e=>(typeof e=="string"?parseInt(e,10):e)>=0},inputStyle:[Array,String,Object],inputClass:[Array,String,Object],size:String,disable:Boolean,input:Boolean,iconPrev:String,iconNext:String,iconFirst:String,iconLast:String,toFn:Function,boundaryLinks:{type:Boolean,default:null},boundaryNumbers:{type:Boolean,default:null},directionLinks:{type:Boolean,default:null},ellipses:{type:Boolean,default:null},ripple:{type:[Boolean,Object],default:null},round:Boolean,rounded:Boolean,flat:Boolean,outline:Boolean,unelevated:Boolean,push:Boolean,glossy:Boolean,color:{type:String,default:"primary"},textColor:String,activeDesign:{type:String,default:"",values:e=>e===""||oe.includes(e)},activeColor:String,activeTextColor:String,gutter:String,padding:{type:String,default:"3px 2px"}},emits:["update:modelValue"],setup(e,{emit:i}){const{proxy:y}=ce(),{$q:a}=y,x=se(e,a),s=o(()=>parseInt(e.min,10)),r=o(()=>parseInt(e.max,10)),n=o(()=>parseInt(e.maxPages,10)),C=o(()=>p.value+" / "+r.value),O=o(()=>F(e.boundaryLinks,e.input)),S=o(()=>F(e.boundaryNumbers,!e.input)),X=o(()=>F(e.directionLinks,e.input)),Q=o(()=>F(e.ellipses,!e.input)),B=b(null),p=o({get:()=>e.modelValue,set:l=>{if(l=parseInt(l,10),e.disable||isNaN(l))return;const t=Pe(l,s.value,r.value);e.modelValue!==t&&i("update:modelValue",t)}});ue(()=>`${s.value}|${r.value}`,()=>{p.value=e.modelValue});const Z=o(()=>"q-pagination row no-wrap items-center"+(e.disable===!0?" disabled":"")),z=o(()=>e.gutter in L?`${L[e.gutter]}px`:e.gutter||null),H=o(()=>z.value!==null?`--q-pagination-gutter-parent:-${z.value};--q-pagination-gutter-child:${z.value}`:null),D=o(()=>{const l=[e.iconFirst||a.iconSet.pagination.first,e.iconPrev||a.iconSet.pagination.prev,e.iconNext||a.iconSet.pagination.next,e.iconLast||a.iconSet.pagination.last];return a.lang.rtl===!0?l.reverse():l}),J=o(()=>({"aria-disabled":e.disable===!0?"true":"false",role:"navigation"})),E=o(()=>re(e,"flat")),$=o(()=>({[E.value]:!0,round:e.round,rounded:e.rounded,padding:e.padding,color:e.color,textColor:e.textColor,size:e.size,ripple:e.ripple!==null?e.ripple:!0})),ee=o(()=>{const l={[E.value]:!1};return e.activeDesign!==""&&(l[e.activeDesign]=!0),l}),ae=o(()=>({...ee.value,color:e.activeColor||e.color,textColor:e.activeTextColor||e.textColor})),k=o(()=>{let l=Math.max(n.value,1+(Q.value?2:0)+(S.value?2:0));const t={pgFrom:s.value,pgTo:r.value,ellipsesStart:!1,ellipsesEnd:!1,boundaryStart:!1,boundaryEnd:!1,marginalStyle:{minWidth:`${Math.max(2,String(r.value).length)}em`}};return n.value&&l<r.value-s.value+1&&(l=1+Math.floor(l/2)*2,t.pgFrom=Math.max(s.value,Math.min(r.value-l+1,e.modelValue-Math.floor(l/2))),t.pgTo=Math.min(r.value,t.pgFrom+l-1),S.value&&(t.boundaryStart=!0,t.pgFrom++),Q.value&&t.pgFrom>s.value+(S.value?1:0)&&(t.ellipsesStart=!0,t.pgFrom++),S.value&&(t.boundaryEnd=!0,t.pgTo--),Q.value&&t.pgTo<r.value-(S.value?1:0)&&(t.ellipsesEnd=!0,t.pgTo--)),t});function A(l){p.value=l}function le(l){p.value=p.value+l}const te=o(()=>{function l(){p.value=B.value,B.value=null}return{"onUpdate:modelValue":t=>{B.value=t},onKeyup:t=>{de(t,13)===!0&&l()},onBlur:l}});function g(l,t,V){const _={"aria-label":t,"aria-current":"false",...$.value,...l};return V===!0&&Object.assign(_,{"aria-current":"true",...ae.value}),t!==void 0&&(e.toFn!==void 0?_.to=e.toFn(t):_.onClick=()=>{A(t)}),w(T,_)}return Object.assign(y,{set:A,setByOffset:le}),()=>{const l=[],t=[];let V;if(O.value===!0&&(l.push(g({key:"bls",disable:e.disable||e.modelValue<=s.value,icon:D.value[0]},s.value)),t.unshift(g({key:"ble",disable:e.disable||e.modelValue>=r.value,icon:D.value[3]},r.value))),X.value===!0&&(l.push(g({key:"bdp",disable:e.disable||e.modelValue<=s.value,icon:D.value[1]},e.modelValue-1)),t.unshift(g({key:"bdn",disable:e.disable||e.modelValue>=r.value,icon:D.value[2]},e.modelValue+1))),e.input!==!0){V=[];const{pgFrom:_,pgTo:I,marginalStyle:P}=k.value;if(k.value.boundaryStart===!0){const m=s.value===e.modelValue;l.push(g({key:"bns",style:P,disable:e.disable,label:s.value},s.value,m))}if(k.value.boundaryEnd===!0){const m=r.value===e.modelValue;t.unshift(g({key:"bne",style:P,disable:e.disable,label:r.value},r.value,m))}k.value.ellipsesStart===!0&&l.push(g({key:"bes",style:P,disable:e.disable,label:"…",ripple:!1},_-1)),k.value.ellipsesEnd===!0&&t.unshift(g({key:"bee",style:P,disable:e.disable,label:"…",ripple:!1},I+1));for(let m=_;m<=I;m++)V.push(g({key:`bpg${m}`,style:P,disable:e.disable,label:m},m,m===e.modelValue))}return w("div",{class:Z.value,...J.value},[w("div",{class:"q-pagination__content row no-wrap items-center",style:H.value},[...l,e.input===!0?w(R,{class:"inline",style:{width:`${C.value.length/1.5}em`},type:"number",dense:!0,value:B.value,disable:e.disable,dark:x.value,borderless:!0,inputClass:e.inputClass,inputStyle:e.inputStyle,placeholder:C.value,min:s.value,max:r.value,...te.value}):w("div",{class:"q-pagination__middle row justify-center"},V),...t])])}}}),De="/__central__/assets/noimage-DnPM5X0E.png";let u;const je={components:{Module:ge(()=>xe(()=>import("./Module-YZIGW_pc.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9])))},setup(){return{util:j,api:U,initialized:b(!1),page:b({value:1,size:18,min:1,max:3}),order:b("name"),search:b(null),projects:b([]),loading:b(!1),sorts:b([{label:"Name (Asc)",value:"name"},{label:"Name (Desc)",value:"-name"},{label:"Date (Asc)",value:"createdOn"},{label:"Date (Desc)",value:"-createdOn"}]),dialog:b({module:Y.dialog.init(()=>u.dialog.module)})}},created(){u=this,u.get_projects()},methods:{get_projects(){u.loading=!0,U.call({path:"/projects",method:"post",params:{index:u.page.value,size:u.page.size,order:u.order,search:u.search},onFinish(){u.loading=!1,u.initialized=!0},onSuccess(e){let i=1,y=1,a=[];j.isObject(e)&&(j.isNumber(e.index)&&(i=e.index-1,i<1&&(i=1)),y=i+2,a=j.isArray(e.data)?e.data:[],a.length<u.page.size&&(y=u.page.value));let x=u.page;x.min=i,x.max=y,u.projects=a}})},on_update_page(e){u.page.value=e,u.get_projects()},on_sort_update(e){u.order=e,u.get_projects()},on_dialog_module(e){Y.dialog.show(u.dialog.module,{project:e})}}},Ne={class:"row q-pa-sm justify-end"},qe={key:0},Fe={class:"flex flex-center"},Qe={class:"login-form text-center"},ze={class:"text-h6"},Me={key:1,class:"row q-pa-sm"},Te={class:"row no-wrap items-center"},Oe={class:"col text-caption q-pt-md"},Ee={class:"col-auto text-grey text-caption q-pt-md row no-wrap items-center"},Ae={class:"text-subtitle1"},Ie={class:"text-caption text-grey ellipsis-text lines4"};function Le(e,i,y,a,x,s){const r=ye("Module");return f(),N(K,null,[c("div",null,[c("div",Ne,[d(Se,{modelValue:a.order,"onUpdate:modelValue":[i[0]||(i[0]=n=>a.order=n),s.on_sort_update],label:e.$t("label.sort"),options:a.sorts,disable:a.loading,"option-value":"value","option-label":"label",borderless:"",dense:"","emit-value":"","map-options":"",class:"q-mr-sm"},null,8,["modelValue","label","options","disable","onUpdate:modelValue"]),d(Ve,{onSubmit:s.get_projects,class:"q-mr-sm"},{default:v(()=>[d(R,{modelValue:a.search,"onUpdate:modelValue":i[1]||(i[1]=n=>a.search=n),label:e.$t("label.search"),disable:a.loading,outlined:"",dense:"",clearable:""},{append:v(()=>[d(T,{round:"",dense:"",glossy:"",icon:"search",onClick:s.get_projects},{default:v(()=>[d(ke,null,{default:v(()=>[W(h(e.$t("label.search")),1)]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue","label","disable"])]),_:1},8,["onSubmit"]),a.projects.length===a.page.size||a.page.value>1?(f(),q(Be,{key:0,modelValue:a.page.value,"onUpdate:modelValue":[i[2]||(i[2]=n=>a.page.value=n),s.on_update_page],"icon-prev":"arrow_back_ios","icon-next":"arrow_forward_ios","direction-links":"",min:a.page.min,max:a.page.max,disable:a.loading},null,8,["modelValue","min","max","disable","onUpdate:modelValue"])):ve("",!0)]),a.initialized&&!a.projects?.length?(f(),N("div",qe,[c("div",Fe,[c("div",Qe,[d(M,{name:"mood_bad",color:"deep-orange-11",size:"200px"}),c("div",ze,h(e.$t("label.unavailable_content")),1)])])])):(f(),N("div",Me,[(f(!0),N(K,null,be(a.projects,(n,C)=>(f(),q(_e,{key:C,class:"col-lg-3 col-md-4 col-sm-6 col-xs-12 q-pa-xs q-mb-md"},{default:v(()=>[n.icon&&n.icon.startsWith("icon:")?(f(),q(M,{key:0,name:n.icon.substring(5),size:"200px",style:{width:"100%"}},null,8,["name"])):(f(),q(we,{key:1,src:a.api.multimedia(n.icon),height:"200px",fit:"fill"},{error:v(()=>i[4]||(i[4]=[c("img",{src:De,style:{width:"100%",height:"200px","object-fit":"contain"},alt:""},null,-1)])),_:2},1032,["src"])),d(G,null,{default:v(()=>[d(T,{fab:"",glossy:"",color:"teal",icon:"hub",class:"absolute",style:{top:"0",right:"12px",transform:"translateY(-50%)"},onClick:O=>s.on_dialog_module(n)},null,8,["onClick"]),c("div",Te,[c("div",Oe,[d(M,{name:"radio_button_checked",color:n.isActive==="Y"?"positive":"negative"},null,8,["color"]),W(" "+h(n.isActive==="Y"?e.$t("label.active"):e.$t("label.inactive")),1)]),c("div",Ee,h(e.$t("label.module"))+" ("+h(n.modules)+") ",1)])]),_:2},1024),d(G,{class:"q-pt-none"},{default:v(()=>[c("div",Ae,h(n.name),1),c("div",Ie,h(n.description),1)]),_:2},1024)]),_:2},1024))),128))]))]),d(fe,{modelValue:a.dialog.module.show,"onUpdate:modelValue":i[3]||(i[3]=n=>a.dialog.module.show=n),"transition-show":"slide-down","transition-hide":"none","full-width":"","full-height":""},{default:v(()=>[he(d(r,{parameters:a.dialog.module.parameters,style:pe(a.dialog.module.style)},null,8,["parameters","style"]),[[Ce,a.dialog.module.onDrag,void 0,{mouse:!0}]])]),_:1},8,["modelValue"])],64)}const Ue=me(je,[["render",Le]]),He=Object.freeze(Object.defineProperty({__proto__:null,default:Ue},Symbol.toStringTag,{value:"Module"}));export{He as P,Be as Q,De as _};
