import{Q as qe}from"./QTooltip-DTsmNrTK.js";import{k as ue,l as ge,h as _,n as Ue,p as vt,u as Ye,q as Ke,t as Be,v as Ge,x as Le,r as T,y as ft,z as Xe,c as r,w as O,g as be,A as ht,Q as he,B as le,C as mt,D as $e,E as Z,G as gt,H as bt,I as yt,J as _t,K as St,L as Te,M as Pe,N as kt,i as Je,O as re,P as wt,o as zt,R as Qe,S as He,U as Ze,V as xt,W as qt,_ as Tt,X as Ct,Y as L,Z as Ce,$ as se,a0 as V,a1 as H,a2 as Ot,a3 as I,a4 as y,f as z,a5 as ce,a6 as U,a7 as Y,a8 as de,a9 as ve,aa as oe,ab as Oe,F as _e,ac as pe}from"./index-3Ds9K3sY.js";import{Q as pt}from"./QSpace-CAwOBfmg.js";import{Q as It,a as Pt,b as Bt,c as Lt,d as $t,e as At}from"./QLayout-DgCeUGCI.js";import{Q as fe,a as De,b as $,c as K}from"./format-BYB7LI8Y.js";import{Q as Mt}from"./QList-CSjzfvcx.js";import{Q as je}from"./QResizeObserver-BXkVA_nK.js";import{T as me}from"./TouchPan-CDLsl8kT.js";import"./touch-BjYP5sR0.js";const Qt=ue({name:"QSlideTransition",props:{appear:Boolean,duration:{type:Number,default:300}},emits:["show","hide"],setup(e,{slots:f,emit:m}){let u=!1,c,o,n=null,t=null,x,q;function l(){c&&c(),c=null,u=!1,n!==null&&(clearTimeout(n),n=null),t!==null&&(clearTimeout(t),t=null),o!==void 0&&o.removeEventListener("transitionend",x),x=null}function h(s,k,g){k!==void 0&&(s.style.height=`${k}px`),s.style.transition=`height ${e.duration}ms cubic-bezier(.25, .8, .50, 1)`,u=!0,c=g}function b(s,k){s.style.overflowY=null,s.style.height=null,s.style.transition=null,l(),k!==q&&m(k)}function p(s,k){let g=0;o=s,u===!0?(l(),g=s.offsetHeight===s.scrollHeight?0:void 0):(q="hide",s.style.overflowY="hidden"),h(s,g,k),n=setTimeout(()=>{n=null,s.style.height=`${s.scrollHeight}px`,x=A=>{t=null,(Object(A)!==A||A.target===s)&&b(s,"show")},s.addEventListener("transitionend",x),t=setTimeout(x,e.duration*1.1)},100)}function C(s,k){let g;o=s,u===!0?l():(q="show",s.style.overflowY="hidden",g=s.scrollHeight),h(s,g,k),n=setTimeout(()=>{n=null,s.style.height=0,x=A=>{t=null,(Object(A)!==A||A.target===s)&&b(s,"hide")},s.addEventListener("transitionend",x),t=setTimeout(x,e.duration*1.1)},100)}return ge(()=>{u===!0&&l()}),()=>_(Ue,{css:!1,appear:e.appear,onEnter:p,onLeave:C},f.default)}}),ae=vt({}),Ht=Object.keys(Ye),Ve=ue({name:"QExpansionItem",props:{...Ye,...Ke,...Be,icon:String,label:String,labelLines:[Number,String],caption:String,captionLines:[Number,String],dense:Boolean,toggleAriaLabel:String,expandIcon:String,expandedIcon:String,expandIconClass:[Array,String,Object],duration:{},headerInsetLevel:Number,contentInsetLevel:Number,expandSeparator:Boolean,defaultOpened:Boolean,hideExpandIcon:Boolean,expandIconToggle:Boolean,switchToggleSide:Boolean,denseToggle:Boolean,group:String,popup:Boolean,headerStyle:[Array,String,Object],headerClass:[Array,String,Object]},emits:[...Ge,"click","afterShow","afterHide"],setup(e,{slots:f,emit:m}){const{proxy:{$q:u}}=be(),c=Le(e,u),o=T(e.modelValue!==null?e.modelValue:e.defaultOpened),n=T(null),t=ft(),{show:x,hide:q,toggle:l}=Xe({showing:o});let h,b;const p=r(()=>`q-expansion-item q-item-type q-expansion-item--${o.value===!0?"expanded":"collapsed"} q-expansion-item--${e.popup===!0?"popup":"standard"}`),C=r(()=>e.contentInsetLevel===void 0?null:{["padding"+(u.lang.rtl===!0?"Right":"Left")]:e.contentInsetLevel*56+"px"}),s=r(()=>e.disable!==!0&&(e.href!==void 0||e.to!==void 0&&e.to!==null&&e.to!=="")),k=r(()=>{const v={};return Ht.forEach(P=>{v[P]=e[P]}),v}),g=r(()=>s.value===!0||e.expandIconToggle!==!0),A=r(()=>e.expandedIcon!==void 0&&o.value===!0?e.expandedIcon:e.expandIcon||u.iconSet.expansionItem[e.denseToggle===!0?"denseIcon":"icon"]),ne=r(()=>e.disable!==!0&&(s.value===!0||e.expandIconToggle===!0)),ie=r(()=>({expanded:o.value===!0,detailsId:t.value,toggle:l,show:x,hide:q})),F=r(()=>{const v=e.toggleAriaLabel!==void 0?e.toggleAriaLabel:u.lang.label[o.value===!0?"collapse":"expand"](e.label);return{role:"button","aria-expanded":o.value===!0?"true":"false","aria-controls":t.value,"aria-label":v}});O(()=>e.group,v=>{b!==void 0&&b(),v!==void 0&&R()});function E(v){s.value!==!0&&l(v),m("click",v)}function G(v){v.keyCode===13&&ee(v,!0)}function ee(v,P){P!==!0&&n.value!==null&&n.value.focus(),l(v),gt(v)}function M(){m("afterShow")}function D(){m("afterHide")}function R(){h===void 0&&(h=ht()),o.value===!0&&(ae[e.group]=h);const v=O(o,B=>{B===!0?ae[e.group]=h:ae[e.group]===h&&delete ae[e.group]}),P=O(()=>ae[e.group],(B,te)=>{te===h&&B!==void 0&&B!==h&&q()});b=()=>{v(),P(),ae[e.group]===h&&delete ae[e.group],b=void 0}}function W(){const v={class:[`q-focusable relative-position cursor-pointer${e.denseToggle===!0&&e.switchToggleSide===!0?" items-end":""}`,e.expandIconClass],side:e.switchToggleSide!==!0,avatar:e.switchToggleSide},P=[_(Z,{class:"q-expansion-item__toggle-icon"+(e.expandedIcon===void 0&&o.value===!0?" q-expansion-item__toggle-icon--rotated":""),name:A.value})];return ne.value===!0&&(Object.assign(v,{tabindex:0,...F.value,onClick:ee,onKeyup:G}),P.unshift(_("div",{ref:n,class:"q-expansion-item__toggle-focus q-icon q-focus-helper q-focus-helper--rounded",tabindex:-1}))),_($,v,()=>P)}function N(){let v;return f.header!==void 0?v=[].concat(f.header(ie.value)):(v=[_($,()=>[_(De,{lines:e.labelLines},()=>e.label||""),e.caption?_(De,{lines:e.captionLines,caption:!0},()=>e.caption):null])],e.icon&&v[e.switchToggleSide===!0?"push":"unshift"](_($,{side:e.switchToggleSide===!0,avatar:e.switchToggleSide!==!0},()=>_(Z,{name:e.icon})))),e.disable!==!0&&e.hideExpandIcon!==!0&&v[e.switchToggleSide===!0?"unshift":"push"](W()),v}function i(){const v={ref:"item",style:e.headerStyle,class:e.headerClass,dark:c.value,disable:e.disable,dense:e.dense,insetLevel:e.headerInsetLevel};return g.value===!0&&(v.clickable=!0,v.onClick=E,Object.assign(v,s.value===!0?k.value:F.value)),_(fe,v,N)}function d(){return le(_("div",{key:"e-content",class:"q-expansion-item__content relative-position",style:C.value,id:t.value},$e(f.default)),[[mt,o.value]])}function w(){const v=[i(),_(Qt,{duration:e.duration,onShow:M,onHide:D},d)];return e.expandSeparator===!0&&v.push(_(he,{class:"q-expansion-item__border q-expansion-item__border--top absolute-top",dark:c.value}),_(he,{class:"q-expansion-item__border q-expansion-item__border--bottom absolute-bottom",dark:c.value})),v}return e.group!==void 0&&R(),ge(()=>{b!==void 0&&b()}),()=>_("div",{class:p.value},[_("div",{class:"q-expansion-item__container relative-position"},w())])}}),Dt=ue({props:["store","barStyle","verticalBarStyle","horizontalBarStyle"],setup(e){return()=>[_("div",{class:e.store.scroll.vertical.barClass.value,style:[e.barStyle,e.verticalBarStyle],"aria-hidden":"true",onMousedown:e.store.onVerticalMousedown}),_("div",{class:e.store.scroll.horizontal.barClass.value,style:[e.barStyle,e.horizontalBarStyle],"aria-hidden":"true",onMousedown:e.store.onHorizontalMousedown}),le(_("div",{ref:e.store.scroll.vertical.ref,class:e.store.scroll.vertical.thumbClass.value,style:e.store.scroll.vertical.style.value,"aria-hidden":"true"}),e.store.thumbVertDir),le(_("div",{ref:e.store.scroll.horizontal.ref,class:e.store.scroll.horizontal.thumbClass.value,style:e.store.scroll.horizontal.style.value,"aria-hidden":"true"}),e.store.thumbHorizDir)]}}),Re=["vertical","horizontal"],Ie={vertical:{offset:"offsetY",scroll:"scrollTop",dir:"down",dist:"y"},horizontal:{offset:"offsetX",scroll:"scrollLeft",dir:"right",dist:"x"}},Ee={prevent:!0,mouse:!0,mouseAllDir:!0},Ne=e=>e>=250?50:Math.ceil(e/5),jt=ue({name:"QScrollArea",props:{...Be,thumbStyle:Object,verticalThumbStyle:Object,horizontalThumbStyle:Object,barStyle:[Array,String,Object],verticalBarStyle:[Array,String,Object],horizontalBarStyle:[Array,String,Object],verticalOffset:{type:Array,default:[0,0]},horizontalOffset:{type:Array,default:[0,0]},contentStyle:[Array,String,Object],contentActiveStyle:[Array,String,Object],delay:{type:[String,Number],default:1e3},visible:{type:Boolean,default:null},tabindex:[String,Number],onScroll:Function},setup(e,{slots:f,emit:m}){const u=T(!1),c=T(!1),o=T(!1),n={vertical:T(0),horizontal:T(0)},t={vertical:{ref:T(null),position:T(0),size:T(0)},horizontal:{ref:T(null),position:T(0),size:T(0)}},{proxy:x}=be(),q=Le(e,x.$q);let l=null,h;const b=T(null),p=r(()=>"q-scrollarea"+(q.value===!0?" q-scrollarea--dark":""));Object.assign(n,{verticalInner:r(()=>n.vertical.value-e.verticalOffset[0]-e.verticalOffset[1]),horizontalInner:r(()=>n.horizontal.value-e.horizontalOffset[0]-e.horizontalOffset[1])}),t.vertical.percentage=r(()=>{const i=t.vertical.size.value-n.vertical.value;if(i<=0)return 0;const d=K(t.vertical.position.value/i,0,1);return Math.round(d*1e4)/1e4}),t.vertical.thumbHidden=r(()=>(e.visible===null?o.value:e.visible)!==!0&&u.value===!1&&c.value===!1||t.vertical.size.value<=n.vertical.value+1),t.vertical.thumbStart=r(()=>e.verticalOffset[0]+t.vertical.percentage.value*(n.verticalInner.value-t.vertical.thumbSize.value)),t.vertical.thumbSize=r(()=>Math.round(K(n.verticalInner.value*n.verticalInner.value/t.vertical.size.value,Ne(n.verticalInner.value),n.verticalInner.value))),t.vertical.style=r(()=>({...e.thumbStyle,...e.verticalThumbStyle,top:`${t.vertical.thumbStart.value}px`,height:`${t.vertical.thumbSize.value}px`,right:`${e.horizontalOffset[1]}px`})),t.vertical.thumbClass=r(()=>"q-scrollarea__thumb q-scrollarea__thumb--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.vertical.barClass=r(()=>"q-scrollarea__bar q-scrollarea__bar--v absolute-right"+(t.vertical.thumbHidden.value===!0?" q-scrollarea__bar--invisible":"")),t.horizontal.percentage=r(()=>{const i=t.horizontal.size.value-n.horizontal.value;if(i<=0)return 0;const d=K(Math.abs(t.horizontal.position.value)/i,0,1);return Math.round(d*1e4)/1e4}),t.horizontal.thumbHidden=r(()=>(e.visible===null?o.value:e.visible)!==!0&&u.value===!1&&c.value===!1||t.horizontal.size.value<=n.horizontal.value+1),t.horizontal.thumbStart=r(()=>e.horizontalOffset[0]+t.horizontal.percentage.value*(n.horizontalInner.value-t.horizontal.thumbSize.value)),t.horizontal.thumbSize=r(()=>Math.round(K(n.horizontalInner.value*n.horizontalInner.value/t.horizontal.size.value,Ne(n.horizontalInner.value),n.horizontalInner.value))),t.horizontal.style=r(()=>({...e.thumbStyle,...e.horizontalThumbStyle,[x.$q.lang.rtl===!0?"right":"left"]:`${t.horizontal.thumbStart.value}px`,width:`${t.horizontal.thumbSize.value}px`,bottom:`${e.verticalOffset[1]}px`})),t.horizontal.thumbClass=r(()=>"q-scrollarea__thumb q-scrollarea__thumb--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__thumb--invisible":"")),t.horizontal.barClass=r(()=>"q-scrollarea__bar q-scrollarea__bar--h absolute-bottom"+(t.horizontal.thumbHidden.value===!0?" q-scrollarea__bar--invisible":""));const C=r(()=>t.vertical.thumbHidden.value===!0&&t.horizontal.thumbHidden.value===!0?e.contentStyle:e.contentActiveStyle);function s(){const i={};return Re.forEach(d=>{const w=t[d];Object.assign(i,{[d+"Position"]:w.position.value,[d+"Percentage"]:w.percentage.value,[d+"Size"]:w.size.value,[d+"ContainerSize"]:n[d].value,[d+"ContainerInnerSize"]:n[d+"Inner"].value})}),i}const k=bt(()=>{const i=s();i.ref=x,m("scroll",i)},0);function g(i,d,w){if(Re.includes(i)===!1){console.error("[QScrollArea]: wrong first param of setScrollPosition (vertical/horizontal)");return}(i==="vertical"?Pe:Te)(b.value,d,w)}function A({height:i,width:d}){let w=!1;n.vertical.value!==i&&(n.vertical.value=i,w=!0),n.horizontal.value!==d&&(n.horizontal.value=d,w=!0),w===!0&&G()}function ne({position:i}){let d=!1;t.vertical.position.value!==i.top&&(t.vertical.position.value=i.top,d=!0),t.horizontal.position.value!==i.left&&(t.horizontal.position.value=i.left,d=!0),d===!0&&G()}function ie({height:i,width:d}){t.horizontal.size.value!==d&&(t.horizontal.size.value=d,G()),t.vertical.size.value!==i&&(t.vertical.size.value=i,G())}function F(i,d){const w=t[d];if(i.isFirst===!0){if(w.thumbHidden.value===!0)return;h=w.position.value,c.value=!0}else if(c.value!==!0)return;i.isFinal===!0&&(c.value=!1);const v=Ie[d],P=(w.size.value-n[d].value)/(n[d+"Inner"].value-w.thumbSize.value),B=i.distance[v.dist],te=h+(i.direction===v.dir?1:-1)*B*P;ee(te,d)}function E(i,d){const w=t[d];if(w.thumbHidden.value!==!0){const v=d==="vertical"?e.verticalOffset[0]:e.horizontalOffset[0],P=i[Ie[d].offset]-v,B=w.thumbStart.value-v;if(P<B||P>B+w.thumbSize.value){const te=P-w.thumbSize.value/2,Se=K(te/(n[d+"Inner"].value-w.thumbSize.value),0,1);ee(Se*Math.max(0,w.size.value-n[d].value),d)}w.ref.value!==null&&w.ref.value.dispatchEvent(new MouseEvent(i.type,i))}}function G(){u.value=!0,l!==null&&clearTimeout(l),l=setTimeout(()=>{l=null,u.value=!1},e.delay),e.onScroll!==void 0&&k()}function ee(i,d){b.value[Ie[d].scroll]=i}let M=null;function D(){M!==null&&clearTimeout(M),M=setTimeout(()=>{M=null,o.value=!0},x.$q.platform.is.ios?50:0)}function R(){M!==null&&(clearTimeout(M),M=null),o.value=!1}let W=null;O(()=>x.$q.lang.rtl,i=>{b.value!==null&&Te(b.value,Math.abs(t.horizontal.position.value)*(i===!0?-1:1))}),yt(()=>{W={top:t.vertical.position.value,left:t.horizontal.position.value}}),_t(()=>{if(W===null)return;const i=b.value;i!==null&&(Te(i,W.left),Pe(i,W.top))}),ge(k.cancel),Object.assign(x,{getScrollTarget:()=>b.value,getScroll:s,getScrollPosition:()=>({top:t.vertical.position.value,left:t.horizontal.position.value}),getScrollPercentage:()=>({top:t.vertical.percentage.value,left:t.horizontal.percentage.value}),setScrollPosition:g,setScrollPercentage(i,d,w){g(i,d*(t[i].size.value-n[i].value)*(i==="horizontal"&&x.$q.lang.rtl===!0?-1:1),w)}});const N={scroll:t,thumbVertDir:[[me,i=>{F(i,"vertical")},void 0,{vertical:!0,...Ee}]],thumbHorizDir:[[me,i=>{F(i,"horizontal")},void 0,{horizontal:!0,...Ee}]],onVerticalMousedown(i){E(i,"vertical")},onHorizontalMousedown(i){E(i,"horizontal")}};return()=>_("div",{class:p.value,onMouseenter:D,onMouseleave:R},[_("div",{ref:b,class:"q-scrollarea__container scroll relative-position fit hide-scrollbar",tabindex:e.tabindex!==void 0?e.tabindex:void 0},[_("div",{class:"q-scrollarea__content absolute",style:C.value},St(f.default,[_(je,{debounce:0,onResize:ie})])),_(It,{axis:"both",onScroll:ne})]),_(je,{debounce:0,onResize:A}),_(Dt,{store:N,barStyle:e.barStyle,verticalBarStyle:e.verticalBarStyle,horizontalBarStyle:e.horizontalBarStyle})])}}),Fe=150,Vt=ue({name:"QDrawer",inheritAttrs:!1,props:{...Ke,...Be,side:{type:String,default:"left",validator:e=>["left","right"].includes(e)},width:{type:Number,default:300},mini:Boolean,miniToOverlay:Boolean,miniWidth:{type:Number,default:57},noMiniAnimation:Boolean,breakpoint:{type:Number,default:1023},showIfAbove:Boolean,behavior:{type:String,validator:e=>["default","desktop","mobile"].includes(e),default:"default"},bordered:Boolean,elevated:Boolean,overlay:Boolean,persistent:Boolean,noSwipeOpen:Boolean,noSwipeClose:Boolean,noSwipeBackdrop:Boolean},emits:[...Ge,"onLayout","miniState"],setup(e,{slots:f,emit:m,attrs:u}){const c=be(),{proxy:{$q:o}}=c,n=Le(e,o),{preventBodyScroll:t}=xt(),{registerTimeout:x,removeTimeout:q}=kt(),l=Je(Ze,re);if(l===re)return console.error("QDrawer needs to be child of QLayout"),re;let h,b=null,p;const C=T(e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint),s=r(()=>e.mini===!0&&C.value!==!0),k=r(()=>s.value===!0?e.miniWidth:e.width),g=T(e.showIfAbove===!0&&C.value===!1?!0:e.modelValue===!0),A=r(()=>e.persistent!==!0&&(C.value===!0||te.value===!0));function ne(a,S){if(G(),a!==!1&&l.animate(),j(0),C.value===!0){const Q=l.instances[w.value];Q!==void 0&&Q.belowBreakpoint===!0&&Q.hide(!1),X(1),l.isContainer.value!==!0&&t(!0)}else X(0),a!==!1&&we(!1);x(()=>{a!==!1&&we(!0),S!==!0&&m("show",a)},Fe)}function ie(a,S){ee(),a!==!1&&l.animate(),X(0),j(R.value*k.value),ze(),S!==!0?x(()=>{m("hide",a)},Fe):q()}const{show:F,hide:E}=Xe({showing:g,hideOnRouteChange:A,handleShow:ne,handleHide:ie}),{addToHistory:G,removeFromHistory:ee}=wt(g,E,A),M={belowBreakpoint:C,hide:E},D=r(()=>e.side==="right"),R=r(()=>(o.lang.rtl===!0?-1:1)*(D.value===!0?1:-1)),W=T(0),N=T(!1),i=T(!1),d=T(k.value*R.value),w=r(()=>D.value===!0?"left":"right"),v=r(()=>g.value===!0&&C.value===!1&&e.overlay===!1?e.miniToOverlay===!0?e.miniWidth:k.value:0),P=r(()=>e.overlay===!0||e.miniToOverlay===!0||l.view.value.indexOf(D.value?"R":"L")!==-1||o.platform.is.ios===!0&&l.isContainer.value===!0),B=r(()=>e.overlay===!1&&g.value===!0&&C.value===!1),te=r(()=>e.overlay===!0&&g.value===!0&&C.value===!1),Se=r(()=>"fullscreen q-drawer__backdrop"+(g.value===!1&&N.value===!1?" hidden":"")),et=r(()=>({backgroundColor:`rgba(0,0,0,${W.value*.4})`})),Ae=r(()=>D.value===!0?l.rows.value.top[2]==="r":l.rows.value.top[0]==="l"),tt=r(()=>D.value===!0?l.rows.value.bottom[2]==="r":l.rows.value.bottom[0]==="l"),at=r(()=>{const a={};return l.header.space===!0&&Ae.value===!1&&(P.value===!0?a.top=`${l.header.offset}px`:l.header.space===!0&&(a.top=`${l.header.size}px`)),l.footer.space===!0&&tt.value===!1&&(P.value===!0?a.bottom=`${l.footer.offset}px`:l.footer.space===!0&&(a.bottom=`${l.footer.size}px`)),a}),lt=r(()=>{const a={width:`${k.value}px`,transform:`translateX(${d.value}px)`};return C.value===!0?a:Object.assign(a,at.value)}),nt=r(()=>"q-drawer__content fit "+(l.isContainer.value!==!0?"scroll":"overflow-auto")),it=r(()=>`q-drawer q-drawer--${e.side}`+(i.value===!0?" q-drawer--mini-animate":"")+(e.bordered===!0?" q-drawer--bordered":"")+(n.value===!0?" q-drawer--dark q-dark":"")+(N.value===!0?" no-transition":g.value===!0?"":" q-layout--prevent-focus")+(C.value===!0?" fixed q-drawer--on-top q-drawer--mobile q-drawer--top-padding":` q-drawer--${s.value===!0?"mini":"standard"}`+(P.value===!0||B.value!==!0?" fixed":"")+(e.overlay===!0||e.miniToOverlay===!0?" q-drawer--on-top":"")+(Ae.value===!0?" q-drawer--top-padding":""))),ot=r(()=>{const a=o.lang.rtl===!0?e.side:w.value;return[[me,ct,void 0,{[a]:!0,mouse:!0}]]}),rt=r(()=>{const a=o.lang.rtl===!0?w.value:e.side;return[[me,Me,void 0,{[a]:!0,mouse:!0}]]}),ut=r(()=>{const a=o.lang.rtl===!0?w.value:e.side;return[[me,Me,void 0,{[a]:!0,mouse:!0,mouseAllDir:!0}]]});function ke(){dt(C,e.behavior==="mobile"||e.behavior!=="desktop"&&l.totalWidth.value<=e.breakpoint)}O(C,a=>{a===!0?(h=g.value,g.value===!0&&E(!1)):e.overlay===!1&&e.behavior!=="mobile"&&h!==!1&&(g.value===!0?(j(0),X(0),ze()):F(!1))}),O(()=>e.side,(a,S)=>{l.instances[S]===M&&(l.instances[S]=void 0,l[S].space=!1,l[S].offset=0),l.instances[a]=M,l[a].size=k.value,l[a].space=B.value,l[a].offset=v.value}),O(l.totalWidth,()=>{(l.isContainer.value===!0||document.qScrollPrevented!==!0)&&ke()}),O(()=>e.behavior+e.breakpoint,ke),O(l.isContainer,a=>{g.value===!0&&t(a!==!0),a===!0&&ke()}),O(l.scrollbarWidth,()=>{j(g.value===!0?0:void 0)}),O(v,a=>{J("offset",a)}),O(B,a=>{m("onLayout",a),J("space",a)}),O(D,()=>{j()}),O(k,a=>{j(),xe(e.miniToOverlay,a)}),O(()=>e.miniToOverlay,a=>{xe(a,k.value)}),O(()=>o.lang.rtl,()=>{j()}),O(()=>e.mini,()=>{e.noMiniAnimation||e.modelValue===!0&&(st(),l.animate())}),O(s,a=>{m("miniState",a)});function j(a){a===void 0?Qe(()=>{a=g.value===!0?0:k.value,j(R.value*a)}):(l.isContainer.value===!0&&D.value===!0&&(C.value===!0||Math.abs(a)===k.value)&&(a+=R.value*l.scrollbarWidth.value),d.value=a)}function X(a){W.value=a}function we(a){const S=a===!0?"remove":l.isContainer.value!==!0?"add":"";S!==""&&document.body.classList[S]("q-body--drawer-toggle")}function st(){b!==null&&clearTimeout(b),c.proxy&&c.proxy.$el&&c.proxy.$el.classList.add("q-drawer--mini-animate"),i.value=!0,b=setTimeout(()=>{b=null,i.value=!1,c&&c.proxy&&c.proxy.$el&&c.proxy.$el.classList.remove("q-drawer--mini-animate")},150)}function ct(a){if(g.value!==!1)return;const S=k.value,Q=K(a.distance.x,0,S);if(a.isFinal===!0){Q>=Math.min(75,S)===!0?F():(l.animate(),X(0),j(R.value*S)),N.value=!1;return}j((o.lang.rtl===!0?D.value!==!0:D.value)?Math.max(S-Q,0):Math.min(0,Q-S)),X(K(Q/S,0,1)),a.isFirst===!0&&(N.value=!0)}function Me(a){if(g.value!==!0)return;const S=k.value,Q=a.direction===e.side,ye=(o.lang.rtl===!0?Q!==!0:Q)?K(a.distance.x,0,S):0;if(a.isFinal===!0){Math.abs(ye)<Math.min(75,S)===!0?(l.animate(),X(1),j(0)):E(),N.value=!1;return}j(R.value*ye),X(K(1-ye/S,0,1)),a.isFirst===!0&&(N.value=!0)}function ze(){t(!1),we(!0)}function J(a,S){l.update(e.side,a,S)}function dt(a,S){a.value!==S&&(a.value=S)}function xe(a,S){J("size",a===!0?e.miniWidth:S)}return l.instances[e.side]=M,xe(e.miniToOverlay,k.value),J("space",B.value),J("offset",v.value),e.showIfAbove===!0&&e.modelValue!==!0&&g.value===!0&&e["onUpdate:modelValue"]!==void 0&&m("update:modelValue",!0),zt(()=>{m("onLayout",B.value),m("miniState",s.value),h=e.showIfAbove===!0;const a=()=>{(g.value===!0?ne:ie)(!1,!0)};if(l.totalWidth.value!==0){Qe(a);return}p=O(l.totalWidth,()=>{p(),p=void 0,g.value===!1&&e.showIfAbove===!0&&C.value===!1?F(!1):a()})}),ge(()=>{p!==void 0&&p(),b!==null&&(clearTimeout(b),b=null),g.value===!0&&ze(),l.instances[e.side]===M&&(l.instances[e.side]=void 0,J("size",0),J("offset",0),J("space",!1))}),()=>{const a=[];C.value===!0&&(e.noSwipeOpen===!1&&a.push(le(_("div",{key:"open",class:`q-drawer__opener fixed-${e.side}`,"aria-hidden":"true"}),ot.value)),a.push(He("div",{ref:"backdrop",class:Se.value,style:et.value,"aria-hidden":"true",onClick:E},void 0,"backdrop",e.noSwipeBackdrop!==!0&&g.value===!0,()=>ut.value)));const S=s.value===!0&&f.mini!==void 0,Q=[_("div",{...u,key:""+S,class:[nt.value,u.class]},S===!0?f.mini():$e(f.default))];return e.elevated===!0&&g.value===!0&&Q.push(_("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),a.push(He("aside",{ref:"content",class:it.value,style:lt.value},Q,"contentclose",e.noSwipeClose!==!0&&C.value===!0,()=>rt.value)),_("div",{class:"q-drawer-container"},a)}}}),We={position:{type:String,default:"bottom-right",validator:e=>["top-right","top-left","bottom-right","bottom-left","top","right","bottom","left"].includes(e)},offset:{type:Array,validator:e=>e.length===2},expand:Boolean};function Rt(){const{props:e,proxy:{$q:f}}=be(),m=Je(Ze,re);if(m===re)return console.error("QPageSticky needs to be child of QLayout"),re;const u=r(()=>{const h=e.position;return{top:h.indexOf("top")!==-1,right:h.indexOf("right")!==-1,bottom:h.indexOf("bottom")!==-1,left:h.indexOf("left")!==-1,vertical:h==="top"||h==="bottom",horizontal:h==="left"||h==="right"}}),c=r(()=>m.header.offset),o=r(()=>m.right.offset),n=r(()=>m.footer.offset),t=r(()=>m.left.offset),x=r(()=>{let h=0,b=0;const p=u.value,C=f.lang.rtl===!0?-1:1;p.top===!0&&c.value!==0?b=`${c.value}px`:p.bottom===!0&&n.value!==0&&(b=`${-n.value}px`),p.left===!0&&t.value!==0?h=`${C*t.value}px`:p.right===!0&&o.value!==0&&(h=`${-C*o.value}px`);const s={transform:`translate(${h}, ${b})`};return e.offset&&(s.margin=`${e.offset[1]}px ${e.offset[0]}px`),p.vertical===!0?(t.value!==0&&(s[f.lang.rtl===!0?"right":"left"]=`${t.value}px`),o.value!==0&&(s[f.lang.rtl===!0?"left":"right"]=`${o.value}px`)):p.horizontal===!0&&(c.value!==0&&(s.top=`${c.value}px`),n.value!==0&&(s.bottom=`${n.value}px`)),s}),q=r(()=>`q-page-sticky row flex-center fixed-${e.position} q-page-sticky--${e.expand===!0?"expand":"shrink"}`);function l(h){const b=$e(h.default);return _("div",{class:q.value,style:x.value},e.expand===!0?b:[_("div",b)])}return{$layout:m,getStickyContent:l}}const Et=ue({name:"QPageScroller",props:{...We,scrollOffset:{type:Number,default:1e3},reverse:Boolean,duration:{type:Number,default:300},offset:{...We.offset,default:()=>[18,18]}},emits:["click"],setup(e,{slots:f,emit:m}){const{proxy:{$q:u}}=be(),{$layout:c,getStickyContent:o}=Rt(),n=T(null);let t;const x=r(()=>c.height.value-(c.isContainer.value===!0?c.containerHeight.value:u.screen.height));function q(){return e.reverse===!0?x.value-c.scroll.value.position>e.scrollOffset:c.scroll.value.position>e.scrollOffset}const l=T(q());function h(){const k=q();l.value!==k&&(l.value=k)}function b(){e.reverse===!0?t===void 0&&(t=O(x,h)):p()}O(c.scroll,h),O(()=>e.reverse,b);function p(){t!==void 0&&(t(),t=void 0)}function C(k){const g=qt(c.isContainer.value===!0?n.value:c.rootRef.value);Pe(g,e.reverse===!0?c.height.value:0,e.duration),m("click",k)}function s(){return l.value===!0?_("div",{ref:n,class:"q-page-scroller",onClick:C},o(f)):null}return b(),ge(p),()=>_(Ue,{name:"q-transition--fade"},s)}}),Nt={setup(){return{APP:Ct,util:L,api:Ce,uix:se,is_logged_in:T(!1),is_logout_progress:T(!1),is_show_menu:T(!1),is_dark_mode:T(!1),active_menu:T({id:null}),menus:T([])}},created(){let e=this,f=V.auth();e.is_dark_mode=se.dark.active(),e.is_logged_in=L.isString(f.token)&&f.token!=="",Ce.call({path:"/menus",onSuccess(m){let u=V.menu();e.active_menu=L.isObject(u.active)?u.active:{id:null},e.is_show_menu=u.show===!0;let c=!1;m=L.isArray(m)?m:[];for(const o of m){if(!c&&e.active_menu.id===o.id&&(c=!0),o.children?.length){o.icon=L.isString(o.icon)&&o.icon!==""?o.icon:"dashboard";for(const n of o.children)if(!c&&e.active_menu.id===n.id&&(c=!0),n.children?.length){n.icon=L.isString(n.icon)&&n.icon!==""?n.icon:"category";for(const t of n.children)!c&&e.active_menu.id===t.id&&(c=!0),t.icon=L.isString(t.icon)&&t.icon!==""?t.icon:"stream"}else n.icon=L.isString(n.icon)&&n.icon!==""?n.icon:"blur_on"}else o.icon=L.isString(o.icon)&&o.icon!==""?o.icon:"extension";e.menus.push(o),e.menus.push({separator:!0})}c||(delete u.active,V.menu(u),e.active_menu={id:null})}})},methods:{on_toggle_menu:function(){let e=this;e.is_show_menu=!e.is_show_menu;let f=V.menu();f.show=e.is_show_menu,V.menu(f)},on_header_menu_click(){let e=this;e.active_menu={id:{}};let f=V.menu();delete f.active,V.menu(f),window.location.href=(L.webPath()!=="/"?L.webPath():"")+"/"},on_menu_click(e){let f=this;if(L.isString(e.link)&&e.link!=="")if(e.noPushRoute){f.active_menu={id:{}};let m=V.menu();delete m.active,V.menu(m),window.location.href=(L.webPath()!=="/"?L.webPath():"")+e.link}else{f.active_menu=e;let m=V.menu();m.active=e,V.menu(m),f.$router.push({path:e.link,query:Object.fromEntries([...new URLSearchParams(e.link.split("?")[1])])})}},on_logout_click(){let e=this;se.confirm(function(){e.is_logout_progress=!0,Ce.send({path:"/logout",method:"post",onFinish(){e.is_logout_progress=!1},onSuccess(){V.auth(null),window.location.href=L.webPath()}})},"confirm.logout")},on_dark_click(){se.dark.toggle(),this.is_dark_mode=se.dark.active()}}};function Ft(e,f,m,u,c,o){const n=Ot("router-view");return I(),H(At,{view:"hHh lpR fFf",class:"background-layout"},{default:y(()=>[z(Bt,{class:"header-main"},{default:y(()=>[z(Pt,null,{default:y(()=>[u.menus?.length?(I(),H(ce,{key:0,round:"",size:e.$q.screen.gt.sm?"md":"sm","aria-label":e.$t("label.menu"),icon:"menu",onClick:o.on_toggle_menu},{default:y(()=>[z(qe,null,{default:y(()=>[U(Y(e.$t("label.menu")),1)]),_:1})]),_:1},8,["size","aria-label","onClick"])):de("",!0),z(ce,{flat:"","no-caps":"","no-wrap":"",label:u.APP.title,size:e.$q.screen.gt.sm?"xl":"lg",class:ve("q-pa-xs text-weight-bold "+(e.$q.screen.gt.sm?"q-ml-md":"q-ml-xs")),onClick:f[0]||(f[0]=t=>o.on_header_menu_click())},null,8,["label","size","class"]),z(pt),z(ce,{round:"",icon:u.is_dark_mode?"light_mode":"dark_mode",size:e.$q.screen.gt.sm?"md":"sm",onClick:o.on_dark_click},{default:y(()=>[z(qe,null,{default:y(()=>[U(Y(u.is_dark_mode?e.$t("label.light"):e.$t("label.dark")),1)]),_:1})]),_:1},8,["icon","size","onClick"]),u.is_logged_in?(I(),H(ce,{key:1,round:"",icon:"logout",class:"q-ml-sm",size:e.$q.screen.gt.sm?"md":"sm",loading:u.is_logout_progress,onClick:f[1]||(f[1]=t=>o.on_logout_click())},{default:y(()=>[z(qe,null,{default:y(()=>[U(Y(e.$t("label.logout")),1)]),_:1})]),_:1},8,["size","loading"])):de("",!0)]),_:1})]),_:1}),u.menus?.length?(I(),H(Vt,{key:0,modelValue:u.is_show_menu,"onUpdate:modelValue":f[2]||(f[2]=t=>u.is_show_menu=t),bordered:"",elevated:"",width:300,breakpoint:400,class:"background-drawer"},{default:y(()=>[z(jt,{class:ve("fit q-pt-sm")},{default:y(()=>[z(Mt,null,{default:y(()=>[(I(!0),oe(_e,null,Oe(u.menus,(t,x)=>(I(),oe(_e,{key:x},[t.separator?(I(),H(he,{key:0})):t.children?.length?(I(),H(Ve,{key:1,"default-opened":u.active_menu.parent&&t.id===u.active_menu.parent.id||u.active_menu.parent?.parent&&t.id===u.active_menu.parent.parent.id},{header:y(()=>[z($,{avatar:"",style:{"min-width":"0px !important"}},{default:y(()=>[z(Z,{name:t.icon},null,8,["name"])]),_:2},1024),z($,null,{default:y(()=>[U(Y(t.title),1)]),_:2},1024)]),default:y(()=>[(I(!0),oe(_e,null,Oe(t.children,q=>(I(),oe("div",{key:q.id,class:"drawer-child"},[q.separator?(I(),H(he,{key:0})):q.children?.length?(I(),H(Ve,{key:1,"default-opened":u.active_menu.parent&&q.id===u.active_menu.parent.id},{header:y(()=>[z($,{avatar:"",style:{"min-width":"0px !important","padding-left":"24px"}},{default:y(()=>[z(Z,{name:q.icon},null,8,["name"])]),_:2},1024),z($,null,{default:y(()=>[U(Y(q.title),1)]),_:2},1024)]),default:y(()=>[(I(!0),oe(_e,null,Oe(q.children,l=>(I(),oe("div",{key:l.id},[l.separator?(I(),H(he,{key:0})):le((I(),H(fe,{key:1,clickable:"",onClick:h=>o.on_menu_click(l)},{default:y(()=>[z($,{avatar:"",style:{"min-width":"0px !important","padding-left":"48px"}},{default:y(()=>[z(Z,{name:l.icon},null,8,["name"])]),_:2},1024),z($,{class:ve(u.active_menu.id===l.id?"text-weight-bold":"")},{default:y(()=>[U(Y(l.title),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"])),[[pe]])]))),128))]),_:2},1032,["default-opened"])):le((I(),H(fe,{key:2,clickable:"",onClick:l=>o.on_menu_click(q)},{default:y(()=>[z($,{avatar:"",style:{"min-width":"0px !important","padding-left":"24px"}},{default:y(()=>[z(Z,{name:q.icon},null,8,["name"])]),_:2},1024),z($,{class:ve(u.active_menu.id===q.id?"text-weight-bold":"")},{default:y(()=>[U(Y(q.title),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"])),[[pe]])]))),128))]),_:2},1032,["default-opened"])):le((I(),H(fe,{key:2,clickable:"",onClick:q=>o.on_menu_click(t)},{default:y(()=>[z($,{avatar:"",style:{margin:"0px !important",padding:"0px !important","min-width":"0px !important"}},{default:y(()=>[z(Z,{name:t.icon},null,8,["name"])]),_:2},1024),z($,{class:ve("q-pl-md"+(u.active_menu.id===t.id?" text-weight-bold":""))},{default:y(()=>[U(Y(t.title),1)]),_:2},1032,["class"])]),_:2},1032,["onClick"])),[[pe]])],64))),128))]),_:1})]),_:1})]),_:1},8,["modelValue"])):de("",!0),z($t,null,{default:y(()=>[z(Lt,null,{default:y(()=>[u.active_menu?.title?(I(),H(fe,{key:0,class:"q-pa-sm q-pl-md q-pb-md text-h5"},{default:y(()=>[u.active_menu.icon?(I(),H($,{key:0,avatar:"",style:{"min-width":"0px !important"}},{default:y(()=>[z(Z,{name:u.active_menu.icon},null,8,["name"])]),_:1})):de("",!0),z($,null,{default:y(()=>[U(Y(u.active_menu.title),1)]),_:1})]),_:1})):de("",!0),z(n),z(Et,{position:"bottom-right","scroll-offset":120,offset:[12,12]},{default:y(()=>[z(ce,{round:"",glossy:"",size:"sm",icon:"keyboard_arrow_up",color:"primary"})]),_:1})]),_:1})]),_:1})]),_:1})}const aa=Tt(Nt,[["render",Ft]]);export{aa as default};
