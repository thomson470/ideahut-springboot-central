import{Q,b as g,a as q}from"./format-RPhhBnVv.js";import{Q as P}from"./QTooltip-DDLN5EO4.js";import{_ as V,Y as k,r as n,a0 as C,Z as p,a4 as d,a2 as f,a5 as a,C as h,an as x,ab as b,f as s,a7 as _,a8 as y,a6 as I,ac as D,F as S,ad as B,ak as F,ao as T}from"./index-C3Shutt2.js";import{C as j}from"./ClosePopup-Ci_UujA9.js";import{T as A}from"./TouchPan-C7TgOV9p.js";import{g as r}from"./Index-ung9Om_S.js";import"./QSpace-DddE7BY7.js";import"./QSelect-AFcq6Mto.js";import"./QList-BLyCLZgO.js";import"./QInnerLoading-Cn901-C8.js";import"./QTable-N3UMcgRh.js";let t;const L={props:["parameters"],setup(){return{APP:k,title:n(null),fields:n([]),forms:n({}),loading:n({}),dialog:n(C.dialog.init(()=>t.dialog))}},created(){t=this;let o=r.get.object(t.parameters),c=r.get.object(o.row),m=r.get.object(o.definition);t.title=o.title,t.replica=r.get.number(o.replica,null),t.fields=[];let l=r.get.array(m.table.columns),i,u=!1;for(const e of l)!u&&m.id.fields.includes(e.field)&&(u=!0),i=p.getFieldValue(e.field,c),p.isFunction(e.format)&&(i=e.format(i,c)),t.fields.push({label:e.label,value:i});if(!u){let e=r.id.toPk(m.id,c);p.isDefined(e)&&e!==null&&t.fields.splice(0,0,{label:"ID",value:e})}}};function N(o,c,m,l,i,u){return d(),f(T,{style:b("width: "+(o.$q.screen.lt.md?"100%;":"50%;")+l.dialog.style)},{default:a(()=>[h((d(),f(x,{class:"q-pa-none header-main",style:b(l.APP?.color?.header?"background: "+l.APP.color.header+" !important;":"")},{default:a(()=>[s(Q,{class:"q-pr-none"},{default:a(()=>[s(g,null,{default:a(()=>[s(q,{class:"text-h6 text-white"},{default:a(()=>[_(y(l.title),1)]),_:1})]),_:1}),s(g,{side:""},{default:a(()=>[h((d(),f(I,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:a(()=>[s(P,null,{default:a(()=>[_(y(o.$t("label.close")),1)]),_:1})]),_:1})),[[j]])]),_:1})]),_:1})]),_:1},8,["style"])),[[A,l.dialog.onDrag,void 0,{mouse:!0}]]),s(x,{style:{"max-height":"75vh"},class:"q-pa-xs q-mt-xs scroll"},{default:a(()=>[(d(!0),D(S,null,B(l.fields,(e,w)=>(d(),f(F,{type:"text",key:w,label:e.label,modelValue:e.value,"onUpdate:modelValue":v=>e.value=v,readonly:"",filled:"",autogrow:"",class:"q-mb-xs",style:{"max-height":"200px",overflow:"scroll"}},null,8,["label","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1},8,["style"])}const R=V(L,[["render",N]]);export{R as default};
