const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Search-BM65YuFT.js","assets/format-BYB7LI8Y.js","assets/index-3Ds9K3sY.js","assets/index-DH4Oj3ZA.css","assets/QTooltip-DTsmNrTK.js","assets/QTabPanels-Dth9Sind.js","assets/QResizeObserver-BXkVA_nK.js","assets/QSelect-ybIcc9Im.js","assets/touch-BjYP5sR0.js","assets/QPopupProxy-C3yyw3d7.js","assets/TouchPan-CDLsl8kT.js","assets/QForm-DrU6uDMp.js","assets/ClosePopup-Cf-fI5V5.js","assets/View-CxiRGfci.js","assets/QSpace-CAwOBfmg.js","assets/QTable-B2WsSpTs.js","assets/QList-CSjzfvcx.js","assets/QInnerLoading-7DJ72R4W.js","assets/Edit-CXZxmuJo.js","assets/QFab-xgpS96yX.js"])))=>i.map(i=>d[i]);
import{k as createComponent,ao as useSpinnerProps,ap as useSpinner,h,Y as util,$ as uix,Z as api,_ as _export_sfc,ai as defineAsyncComponent,r as ref,aa as createElementBlock,f as createVNode,a4 as withCtx,ak as QDialog,F as Fragment,a2 as resolveComponent,a3 as openBlock,a1 as createBlock,a6 as createTextVNode,a7 as toDisplayString,a5 as QBtn,a8 as createCommentVNode,E as QIcon,aq as normalizeProps,ar as guardReactiveProps,aj as createBaseVNode,as as QCheckbox,ah as QInput,at as createSlots,an as __vitePreload}from"./index-3Ds9K3sY.js";import{Q as QTooltip}from"./QTooltip-DTsmNrTK.js";import{Q as QSpace}from"./QSpace-CAwOBfmg.js";import{Q as QItem,b as QItemSection,a as QItemLabel}from"./format-BYB7LI8Y.js";import{Q as QSelect}from"./QSelect-ybIcc9Im.js";import{Q as QTable,a as QBadge}from"./QTable-B2WsSpTs.js";import{Q as QInnerLoading}from"./QInnerLoading-7DJ72R4W.js";const innerHTML='<g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g>',QSpinnerGears=createComponent({name:"QSpinnerGears",props:useSpinnerProps,setup(e){const{cSize:t,classes:i}=useSpinner(e);return()=>h("svg",{class:i.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML})}}),grid={id:{fromPk:function(e,t){if(util.isDefined(t))return e.type==="STANDARD"?t:JSON.parse(t)},toPk:function(e,t){let i;if(e.type==="COMPOSITE"){i={};for(const l of e.fields)i[l]=t[l];i=JSON.stringify(i)}else e.type==="EMBEDDED"?i=JSON.stringify(t[e.fields[0]]):e.type==="STANDARD"&&(i=t[e.fields[0]]);return i}},prepare:{toFunction:function(elements){if(util.isArray(elements))for(const element of elements){let format=element.format;util.isString(format)&&format.startsWith("function")?(format=eval("("+format+")"),element.format=format):delete element.format;let toValue=element.toValue;util.isString(toValue)&&toValue.startsWith("function")?(toValue=eval("("+toValue+")"),element.toValue=toValue):delete element.toValue;let nullValue=element.nullValue;util.isString(nullValue)&&nullValue.startsWith("function")?(nullValue=eval("("+nullValue+")"),element.nullValue=nullValue):delete element.nullValue;let rowToValue=element.rowToValue;util.isString(rowToValue)&&rowToValue.startsWith("function")?(rowToValue=eval("("+rowToValue+")"),element.rowToValue=rowToValue):delete element.rowToValue}},options:function(e){util.isObject(e)&&Object.keys(e).forEach(t=>{let i=grid.get.array(e[t]);for(const l of i)(!util.isDefined(l.value)||l.value===null)&&(l.value=void 0);e[t]=i})},children:function(e){if(util.isArray(e))for(const t of e){let i=grid.get.array(t.fields);grid.prepare.toFunction(i),t.fields=i;let l=grid.get.object(t.table);grid.prepare.toFunction(l.columns),t.table=l}},forms:function(e){if(util.isArray(e))for(const t of e){let i=grid.get.array(t.fields);grid.prepare.toFunction(i),t.fields=i}},picks:function(e){util.isObject(e)&&Object.keys(e).forEach(t=>{let i=grid.get.object(e[t]),l=grid.get.object(i.table);grid.prepare.toFunction(l.columns),i.table=l,e[t]=i})}},inject:{pkAndGridId:function(e,t,i){if(util.isArray(t)){let l;if(e.type==="COMPOSITE")for(const n of t){l={};for(const a of e.fields)l[a]=n[a];Object.keys(l).length===0?l=void 0:l=JSON.stringify(l),n._pk_=l,n._grid_id_=i}else if(e.type==="EMBEDDED")for(const n of t)l=n[e.fields[0]],Object.keys(l).length===0?l=void 0:l=JSON.stringify(l),n._pk_=l,n._grid_id_=i;else if(e.type==="STANDARD")for(const n of t)n._pk_=n[e.fields[0]],n._grid_id_=i}else if(util.isObject(t)){let l;if(e.type==="COMPOSITE"){l={};for(const n of e.fields)l[n]=t[n];Object.keys(l).length===0?l=void 0:l=JSON.stringify(l)}else e.type==="EMBEDDED"?(l=t[e.fields[0]],Object.keys(l).length===0?l=void 0:l=JSON.stringify(l)):e.type==="STANDARD"&&(l=t[e.fields[0]]);t._pk_=l,t._grid_id_=i}}},update:{page:function(e,t,i){if(e.page=t.index,e.rowsPerPage=t.size,util.isNumber(t.records))e.rowsNumber=t.records;else{let l=t.index*t.size;i!==t.size?e.rowsNumber=l:e.rowsNumber=l+1}}},get:{string:function(e,t){return util.isString(e)?e:t},number:function(e,t){return util.isNumber(e)?e:t},object:function(e){return util.isObject(e)?e:{}},array:function(e){return util.isArray(e)?e:[]},firstArray:function(e){if(util.isArray(e)&&e.length>0)return e[0]},pagination(e,t){let i=e?.pagination?e.pagination:t.pagination;return i?(t.pagination=i,i):t.pagination}},copy:function(e){return JSON.parse(JSON.stringify(e))},clone:{field:function(e){let t=grid.copy(e);return t.format=e.format,t.toValue=e.toValue,t.nullValue=e.nullValue,t.rowToValue=e.rowToValue,t}},validation:{field:function(e){let t=e.validations;if(util.isString(t)&&(t=[t]),!util.isArray(t)||!t.length)return!0;let i=util.isDefined(e.value)?e.value+"":"",l;for(const n of t)if(l=n.trim().toLowerCase(),l==="required"){if(!i.trim().length)return uix.error("error.required",e.label),!1}else if(l==="number"){let a=+i;if(isNaN(a))return uix.error("error.fill_with_numbers",e.label),!1}else if(l==="email"){if(i=i.trim(),!util.isEmail(i))return uix.error("error.fill_with_email",e.label),!1;e.value=i}else if(l.startsWith("length:")){let a=+l.substring(7).trim();if(!isNaN(a)&&i.length!==a)return uix.error("error.fill_with_length",e.label,a),!1}else if(l.startsWith("maxlength:")){let a=+l.substring(10).trim();if(!isNaN(a)&&i.length>a)return uix.error("error.fill_with_maxlength",e.label,a),!1}else if(l.startsWith("minlength:")){let a=+l.substring(10).trim();if(!isNaN(a)&&i.length<a)return uix.error("error.fill_with_minlength",e.label,a),!1}return!0}},action:{page:function(e){let t=e.props,i=e.table,{page:l,rowsPerPage:n,sortBy:a,descending:f}=grid.get.pagination(t,i),m=[],o=e.search;if(!o.empty){let u,_;for(const c of o.filters)if(u=util.isDefined(c.value)?c.value:"",u!=="")if(c.condition==="BETWEEN")_=util.isDefined(c.value2)?c.value2:"",_!==""&&(c.type==="datetime"&&c.converter==="epoch"&&(u=util.parse.epoch(u,{format:c.pattern||null}),_=util.parse.epoch(_,{format:c.pattern||null})),m.push({field:c.name,condition:c.condition,values:[u,_]}));else{c.type==="datetime"&&c.converter==="epoch"&&(u=util.parse.epoch(u,{format:c.pattern||null}));let g=c.or;if(util.isString[g]&&(g=[g]),g=util.isArray(g)?g:[],g.length){let w={logical:"and",filters:[]};for(let b=0;b<g.length;b++)w.filters.push({field:g[b],logical:b===0?"and":"or",condition:c.condition,value:u});m.push(w)}else m.push({field:c.name,condition:c.condition,value:u})}}let r=e.relations;if(util.isArray(r))for(const u of r)m.push({field:u.target,condition:"EQUAL",value:u.value});let s=e.definition,p=e.replica,d=grid.copy(s.crud);if(util.isNumber(p)&&p>-1&&(d.replica=p,e.allUseSameReplica===!0&&util.isArray(d.joins)))for(const _ of d.joins)_.replica=d.replica;d.page={index:l,size:n,count:s.table.page.count===!0},d.filters=util.isArray(d.filters)?d.filters:[],d.filters=d.filters.concat(m),a&&(d.orders=[(f?"-":"")+a]),i.loading=!0,i.selected=[],api.call({path:"/crud/page",method:"post",data:d,onFinish(){i.loading=!1},onSuccess(u){util.isObject(u)&&(i.rows=grid.get.array(u.data),grid.inject.pkAndGridId(s.id,i.rows,s._grid_id_),grid.update.page(i.pagination,u,i.rows.length),i.pagination.sortBy=a,i.pagination.descending=f)}})},delete:function(e){let t=[];if(e?.row)t.push(grid.id.fromPk(e.definition.id,e.row._pk_));else for(const i of e.table.selected)t.push(grid.id.fromPk(e.definition.id,i._pk_));t.length&&(e.deleting=!1,uix.confirm(function(){let i=grid.copy(e.definition.crud),l="/crud/delete";t.length===1?i.id=t[0]:(i.ids=t,l+="s");let n=e.replica;util.isNumber(n)&&n>-1&&(i.replica=n),e.deleting=!0,api.call({path:l,method:"post",data:i,onFinish(){e.deleting=!1},onSuccess(){util.isFunction(e.onSuccess)&&e.onSuccess()}})},"confirm.delete"))},save:function(e){let t={};for(const o of e.fields){if(!grid.validation.field(o))return;if(o.type==="datetime"&&o.converter==="epoch")t[o.name]=util.parse.epoch(o.value,{format:o.pattern||null});else if(o.type==="pick")if(o.value===void 0&&o.nullable)if(util.isFunction(o.nullValue)){let r=o.nullValue();util.isObject(r)?Object.keys(r).forEach(s=>{t[s]=r[s]}):t[o.name]=r}else t[o.name]=null;else if(util.isFunction(o.toValue)&&util.isObject(o.value)){let r=o.toValue(o.value);Object.keys(r).forEach(s=>{t[s]=r[s]})}else t[o.name]=o.value;else o.value===void 0&&o.nullable?util.isFunction(o.nullValue)?t[o.name]=o.nullValue():t[o.name]=o.nullEmpty===!0?"":null:t[o.name]=o.value}let i=e.relations;if(util.isArray(i))for(const o of i)t[o.target]=o.value;let l={};Object.keys(t).forEach(o=>{let r=t[o],s=o.split("."),p=l;for(let d=0;d<s.length;d++)p=p[s[d]]=d==s.length-1?r:util.isObject(p[s[d]])?p[s[d]]:{}});let n=e.definition,a=grid.copy(n.crud);a.value=l;let f=e.replica;util.isNumber(f)&&f>-1&&(a.replica=f);let m;e.is_edit===!0?(a.id=e.id,m="/crud/update"):m="/crud/create",e.saving=!0,api.call({path:m,method:"post",data:a,onFinish(){e.saving=!1},onSuccess(o){o=grid.get.object(o),grid.inject.pkAndGridId(n.id,o,n._grid_id_),util.isFunction(e.onSuccess)&&e.onSuccess(o)}})}},permission:{view:function(e){let t=util.isObject(e)?e:{};return util.isArray(t.actions)&&t.actions.includes("PAGE")},add:function(e){let t=util.isObject(e)?e:{};return util.isArray(t.actions)&&t.actions.includes("CREATE")},edit:function(e){let t=util.isObject(e)?e:{};return util.isArray(t.actions)&&t.actions.includes("UPDATE")},delete:function(e){let t=util.isObject(e)?e:{};return util.isArray(t.actions)&&t.actions.includes("DELETE")},deletes:function(e){let t=util.isObject(e)?e:{};return util.isArray(t.actions)&&t.actions.includes("DELETES")}}},PREFIX=util.uuid();window.__util__=util;window.__grid__={};window.__gkeys__=[];const addGrid=(e,t)=>{window.__gkeys__.push(e),window.__grid__[e]=t;let i=window.__gkeys__.length-10;if(i>0){const l=window.__gkeys__.splice(0,i);for(const n of l)delete window.__grid__[n]}},_sfc_main={components:{Search:defineAsyncComponent(()=>__vitePreload(()=>import("./Search-BM65YuFT.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12]))),View:defineAsyncComponent(()=>__vitePreload(()=>import("./View-CxiRGfci.js"),__vite__mapDeps([13,2,3,1,4,12,14,7,15,16,17]))),Edit:defineAsyncComponent(()=>__vitePreload(()=>import("./Edit-CXZxmuJo.js"),__vite__mapDeps([18,2,3,1,4,7,5,6,8,9,10,19,12,14,15,16,17])))},setup(){return{uix,util,fxGrid:grid,is_template_loading:ref(!1),template:ref({}),permission:ref({}),parent:ref(null),name:ref(null),replica:ref(null),dialog:ref({search:{show:!1,parameters:null},view:{show:!1,parameters:null},edit:{show:!1,parameters:null}}),search:ref({filters:[],empty:!0}),table:ref({rows:[],columns:[],visibles:[],selected:[],pagination:{},loading:!1,deleting:!1})}},created(){this.do_load_grid()},beforeUpdate(){this.do_load_grid()},methods:{do_load_grid(){util.isObject(window.__grid__)||(window.__grid__={});let e=this,t=grid.get.string(e.$route.query.parent,"_"),i=grid.get.string(e.$route.query.name,"");if(t===e.parent&&i===e.name)return;e.parent=t,e.name=i,e.replica=null;let l=PREFIX+"_"+t+"_"+i;if(!window.__grid__[l])e.is_template_loading||(e.is_template_loading=!0,api.call({path:"/grid",params:{name:i,parent:t},onSuccess(n){try{let a=grid.get.object(n);a._grid_id_=l;let f=grid.get.object(a.table);grid.prepare.toFunction(f.columns),a.table=f;let m=grid.get.array(a.fields);grid.prepare.toFunction(m),a.fields=m;let o=grid.get.array(a.children);grid.prepare.children(o),a.children=o;let r=grid.get.object(a.enums);grid.prepare.options(r),a.enums=r;let s=grid.get.object(a.options);grid.prepare.options(s),a.options=s;let p=grid.get.array(a.forms);grid.prepare.forms(p),a.forms=p;let d=grid.get.object(a.picks);grid.prepare.picks(d),a.picks=d,addGrid(l,a),e.template=window.__grid__[l],e.replica=grid.get.firstArray(e.template.replicas),e.permission=e.get_permission(),e.do_load_data()}catch(a){util.log("<<get-grid-1::"+l+">>",a)}e.is_template_loading=!1},notify:!0,onError(){e.is_template_loading=!1}}));else{e.template=window.__grid__[l],e.replica=grid.get.firstArray(e.template.replicas),e.permission=e.get_permission();try{e.do_load_data()}catch(n){util.log("<<get-grid-2::"+l+">>",n)}}},get_permission(){let t=this.template,i=grid.get.object(t.table),l={actions:grid.copy(t.actions)},n=i?.action?.exclude?i.action.exclude:[];return l.actions=t.actions.filter(a=>!n.includes(a)),l},do_load_data(){let e=this;e.table={rows:[],columns:[{name:"_pk_"}],visibles:["_pk_"],selected:[],pagination:{},loading:!1,deleting:!1};let t=e.template,i=grid.get.object(t.table),l=grid.get.object(i.page),n=grid.get.object(i.order);e.search={empty:!0,filters:grid.copy(grid.get.array(i.filters))},e.table.pagination={page:1,rowsPerPage:l.default,sortBy:n.field,descending:n.descending===!0},e.table.columns=i.columns,e.table.visibles=i.visibles,e.do_request({pagination:e.table.pagination})},do_request(e){let t=this;grid.action.page({props:e,table:t.table,search:t.search,definition:t.template,replica:t.replica,allUseSameReplica:t.template.allUseSameReplica})},on_refresh_click(){let e=this;e.do_request({pagination:e.table.pagination})},on_delete_click(e){let t=this;grid.action.delete({row:e.row,definition:t.template,table:t.table,deleting:t.deleting,replica:t.replica,onSuccess:function(){t.do_request({pagination:t.table.pagination})}})},on_search_click(){let e=this,t=e.dialog.search;t.parameters={filters:grid.copy(e.search.filters),template:e.template},t.show=!0},on_close_dialog_search(e){let t=this;if(util.isArray(e)){let i=t.search,l,n;i.filters=e,i.empty=!0;for(const a of i.filters)if(l=util.isDefined(a.value)?a.value:"",n=util.isDefined(a.value2)?a.value2:"",l!==""||n!==""){i.empty=!1;break}t.dialog.search={show:!1,parameters:null},t.table.pagination.page=1,t.do_request({pagination:t.table.pagination})}},on_view_click(e){let t=this;t.dialog.view={show:!0,parameters:{template:t.template,replica:t.replica,row:e.row}}},on_edit_click(e){let t=this;t.dialog.edit={show:!0,parameters:{template:t.template,replica:t.replica,row:e.row,index:e.rowIndex}}},on_add_click(){let e=this;e.dialog.edit={show:!0,parameters:{template:e.template,replica:e.replica}}},on_close_dialog_edit(e){let t=this,i=e.row;if(i)if(e.is_edit)if(util.isDefined(i._pk_))t.table.rows[e.index]=i;else{t.dialog.edit={show:!1,parameters:null},setTimeout(function(){t.dialog.edit={show:!0,parameters:{template:t.template,replica:t.replica,row:i}}},100);return}else t.do_request({pagination:t.table.pagination});t.dialog.edit={show:!1,parameters:null}},on_page_changed(){let e=this,t=+e.table.pagination.page;!isNaN(t)&&t>0&&e.do_request({pagination:e.table.pagination})}}},_hoisted_1={class:"full-width row flex-center text-accent q-gutter-sm"},_hoisted_2={class:"text-subtitle2"},_hoisted_3={key:0,class:"text-left"},_hoisted_4={class:"text-caption"};function _sfc_render(e,t,i,l,n,a){const f=resolveComponent("Search"),m=resolveComponent("View"),o=resolveComponent("Edit");return openBlock(),createElementBlock(Fragment,null,[createVNode(QTable,{class:"table-sticky-header q-ma-sm",rows:l.table.rows,columns:l.table.columns,"visible-columns":l.table.visibles,"row-key":"_pk_",loading:l.table.loading,selection:l.util.isObject(l.template.table)?l.template.table.selection:"single",selected:l.table.selected,"onUpdate:selected":t[2]||(t[2]=r=>l.table.selected=r),pagination:l.table.pagination,"onUpdate:pagination":t[3]||(t[3]=r=>l.table.pagination=r),dense:e.$q.screen.lt.md,"no-data-label":e.$t("error.data_not_available"),"rows-per-page-label":" ","selected-rows-label":r=>{},"rows-per-page-options":l.util.isObject(l.template.table)&&l.template.table.page?.options?l.template.table.page.options:[10,20,30],onRequest:a.do_request,"binary-state-sort":"",separator:l.util.isObject(l.template.table)?l.template.table.separator:"cell",bordered:""},{top:withCtx(()=>[l.util.isObject(l.template.table)&&l.template.table.selection==="multiple"&&l.fxGrid.permission.delete(l.permission)?(openBlock(),createBlock(QBtn,{key:0,glossy:"",round:"",dense:"",class:"q-ma-none q-mr-md",color:"negative",icon:"delete",disable:!l.table.selected.length,loading:l.table.deleting,onClick:a.on_delete_click},{default:withCtx(()=>[createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("label.delete")),1)]),_:1})]),_:1},8,["disable","loading","onClick"])):createCommentVNode("",!0),l.fxGrid.permission.add(l.permission)?(openBlock(),createBlock(QBtn,{key:1,glossy:"",round:"",dense:"",class:"q-ma-none q-mr-md",color:"teal",icon:"add",onClick:a.on_add_click},{default:withCtx(()=>[createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("label.new")),1)]),_:1})]),_:1},8,["onClick"])):createCommentVNode("",!0),createVNode(QSpace),l.template.replicas?.length?(openBlock(),createBlock(QSelect,{key:2,modelValue:l.replica,"onUpdate:modelValue":[t[0]||(t[0]=r=>l.replica=r),a.do_load_data],options:l.template.replicas,borderless:"",class:"text-h6",dense:""},{prepend:withCtx(()=>[createVNode(QIcon,{name:"storage",class:"q-mr-sm"})]),option:withCtx(r=>[createVNode(QItem,normalizeProps(guardReactiveProps(r.itemProps)),{default:withCtx(()=>[createVNode(QItemSection,null,{default:withCtx(()=>[createVNode(QItemLabel,{class:"text-h6"},{default:withCtx(()=>[createTextVNode(toDisplayString(r.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onUpdate:modelValue"])):createCommentVNode("",!0),createVNode(QSpace),l.search.filters?.length?(openBlock(),createBlock(QBtn,{key:3,glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"deep-orange",icon:"search",onClick:a.on_search_click},{default:withCtx(()=>[l.search.empty?createCommentVNode("",!0):(openBlock(),createBlock(QBadge,{key:0,class:"led-green",floating:""})),createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("label.search")),1)]),_:1})]),_:1},8,["onClick"])):createCommentVNode("",!0),createVNode(QBtn,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"indigo",icon:"refresh",loading:l.table.loading,onClick:a.on_refresh_click},{default:withCtx(()=>[createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("label.refresh")),1)]),_:1})]),_:1},8,["loading","onClick"])]),"no-data":withCtx(({message:r})=>[createBaseVNode("div",_hoisted_1,[createVNode(QIcon,{size:"2em",name:"block"}),createBaseVNode("span",_hoisted_2,toDisplayString(r),1)])]),loading:withCtx(()=>[createVNode(QInnerLoading,{showing:"",color:"primary"})]),"header-selection":withCtx(r=>[l.util.isObject(l.template.table)&&l.template.table.selection==="multiple"&&l.fxGrid.permission.deletes(l.permission)?(openBlock(),createElementBlock("div",_hoisted_3,[createVNode(QCheckbox,{dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:r.selected,"onUpdate:modelValue":s=>r.selected=s},null,8,["modelValue","onUpdate:modelValue"])])):createCommentVNode("",!0)]),"body-selection":withCtx(r=>[l.util.isObject(l.template.table)&&l.template.table.selection==="multiple"&&l.fxGrid.permission.deletes(l.permission)?(openBlock(),createBlock(QCheckbox,{key:0,dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:r.selected,"onUpdate:modelValue":s=>r.selected=s},null,8,["modelValue","onUpdate:modelValue"])):l.util.isObject(l.template.table)&&l.fxGrid.permission.delete(l.permission)?(openBlock(),createBlock(QBtn,{key:1,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"negative",icon:"delete",onClick:s=>a.on_delete_click(r)},{default:withCtx(()=>[createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("label.delete")),1)]),_:1})]),_:2},1032,["onClick"])):createCommentVNode("",!0),l.fxGrid.permission.edit(l.permission)?(openBlock(),createBlock(QBtn,{key:2,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"primary",icon:"drive_file_rename_outline",onClick:s=>a.on_edit_click(r)},{default:withCtx(()=>[createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("label.edit")),1)]),_:1})]),_:2},1032,["onClick"])):createCommentVNode("",!0),l.fxGrid.permission.view(l.permission)?(openBlock(),createBlock(QBtn,{key:3,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"deep-purple",icon:"visibility",onClick:s=>a.on_view_click(r)},{default:withCtx(()=>[createVNode(QTooltip,null,{default:withCtx(()=>[createTextVNode(toDisplayString(e.$t("label.view")),1)]),_:1})]),_:2},1032,["onClick"])):createCommentVNode("",!0)]),pagination:withCtx(r=>[r.pagesNumber>2?(openBlock(),createBlock(QBtn,{key:0,glossy:"",size:"sm",icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:r.isFirstPage,onClick:r.firstPage},null,8,["disable","onClick"])):createCommentVNode("",!0),createVNode(QBtn,{glossy:"",size:"sm",icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:r.isFirstPage,onClick:r.prevPage},null,8,["disable","onClick"]),createVNode(QInput,{dense:"",borderless:"",type:"number","input-class":"text-center q-ml-xs q-mr-xs","input-style":"max-width: 60px;",modelValue:l.table.pagination.page,"onUpdate:modelValue":[t[1]||(t[1]=s=>l.table.pagination.page=s),a.on_page_changed]},createSlots({_:2},[l.util.isObject(l.template.table)&&l.util.isObject(l.template.table.page)&&l.template.table.page.count===!0?{name:"append",fn:withCtx(()=>[createBaseVNode("span",_hoisted_4," / "+toDisplayString(r.pagesNumber),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"]),createVNode(QBtn,{glossy:"",size:"sm",icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:r.isLastPage,onClick:r.nextPage},null,8,["disable","onClick"]),r.pagesNumber>2?(openBlock(),createBlock(QBtn,{key:1,glossy:"",size:"sm",icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:r.isLastPage,onClick:r.lastPage},null,8,["disable","onClick"])):createCommentVNode("",!0)]),_:1},8,["rows","columns","visible-columns","loading","selection","selected","pagination","dense","no-data-label","rows-per-page-options","onRequest","separator"]),createVNode(QInnerLoading,{showing:l.is_template_loading},{default:withCtx(()=>[createVNode(QSpinnerGears,{size:"80px",color:"primary"})]),_:1},8,["showing"]),createVNode(QDialog,{modelValue:l.dialog.search.show,"onUpdate:modelValue":t[4]||(t[4]=r=>l.dialog.search.show=r),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(2px)"},{default:withCtx(()=>[createVNode(f,{parameters:l.dialog.search.parameters,onClose:a.on_close_dialog_search},null,8,["parameters","onClose"])]),_:1},8,["modelValue"]),createVNode(QDialog,{modelValue:l.dialog.view.show,"onUpdate:modelValue":t[5]||(t[5]=r=>l.dialog.view.show=r),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(2px)"},{default:withCtx(()=>[createVNode(m,{parameters:l.dialog.view.parameters},null,8,["parameters"])]),_:1},8,["modelValue"]),createVNode(QDialog,{modelValue:l.dialog.edit.show,"onUpdate:modelValue":t[6]||(t[6]=r=>l.dialog.edit.show=r),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(2px)"},{default:withCtx(()=>[createVNode(o,{parameters:l.dialog.edit.parameters,onClose:a.on_close_dialog_edit},null,8,["parameters","onClose"])]),_:1},8,["modelValue"])],64)}const Index=_export_sfc(_sfc_main,[["render",_sfc_render]]),Index$1=Object.freeze(Object.defineProperty({__proto__:null,default:Index},Symbol.toStringTag,{value:"Module"}));export{Index$1 as I,grid as g};
