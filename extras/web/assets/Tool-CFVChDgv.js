import{c as Me,h as Ce,Q as de,b as re,a as ce}from"./format-BYB7LI8Y.js";import{Q as W}from"./QTooltip-DTsmNrTK.js";import{k as be,i as We,O as xe,au as Ae,av as Ge,aw as He,c as k,h as m,ax as Xe,g as _e,r as q,ay as Re,G as je,az as Ye,t as Ke,x as Ze,aA as Je,aB as $e,w as ea,l as aa,b as la,aC as ta,aD as oa,aE as Ue,E as na,a5 as F,aF as sa,aG as ra,aH as ia,_ as ua,Y as G,$ as L,Z as $,aa as da,aj as C,f as o,a4 as n,am as ie,ak as ca,F as pa,a3 as x,a6 as B,a7 as U,Q as te,al as oe,a1 as Q,a8 as Z,ah as H,aI as ze,B as fa}from"./index-3Ds9K3sY.js";import{Q as Ve}from"./QSelect-ybIcc9Im.js";import{Q as pe}from"./QInnerLoading-7DJ72R4W.js";import{Q as ma,a as Be,b as ga,c as Qe}from"./QTabPanels-Dth9Sind.js";import{Q as va}from"./QForm-DrU6uDMp.js";import{C as ba}from"./ClosePopup-Cf-fI5V5.js";import"./QResizeObserver-BXkVA_nK.js";import"./touch-BjYP5sR0.js";const Te=be({name:"QUploaderAddTrigger",setup(){const e=We(Ae,xe);return e===xe&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}}),_a={...Ge,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ve=50,Ne=2*ve,De=Ne*Math.PI,ha=Math.round(De*1e3)/1e3,ya=be({name:"QCircularProgress",props:{..._a,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:a}){const{proxy:{$q:r}}=_e(),l=He(e),d=k(()=>{const h=(r.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(r.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-h}deg)`:`rotate3d(0, 0, 1, ${h-90}deg)`}}),c=k(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),i=k(()=>Ne/(1-e.thickness/2)),T=k(()=>`${i.value/2} ${i.value/2} ${i.value} ${i.value}`),A=k(()=>Me(e.value,e.min,e.max)),N=k(()=>e.max-e.min),E=k(()=>e.thickness/2*i.value),I=k(()=>{const h=(e.max-A.value)/N.value,t=e.rounded===!0&&A.value<e.max&&h<.25?E.value/2*(1-h/.25):0;return De*h+t});function R({thickness:h,offset:t,color:_,cls:P,rounded:g}){return m("circle",{class:"q-circular-progress__"+P+(_!==void 0?` text-${_}`:""),style:c.value,fill:"transparent",stroke:"currentColor","stroke-width":h,"stroke-dasharray":ha,"stroke-dashoffset":t,"stroke-linecap":g,cx:i.value,cy:i.value,r:ve})}return()=>{const h=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&h.push(m("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:ve-E.value/2,cx:i.value,cy:i.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&h.push(R({cls:"track",thickness:E.value,offset:0,color:e.trackColor})),h.push(R({cls:"circle",thickness:E.value,offset:I.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const t=[m("svg",{class:"q-circular-progress__svg",style:d.value,viewBox:T.value,"aria-hidden":"true"},h)];return e.showValue===!0&&t.push(m("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},a.default!==void 0?a.default():[m("div",A.value)])),m("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:l.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:A.value},Xe(a.internal,t))}}});function ne(e,a,r,l){const d=[];return e.forEach(c=>{l(c)===!0?d.push(c):a.push({failedPropValidation:r,file:c})}),d}function fe(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),je(e)}const ka={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},wa=["rejected"];function Fa({editable:e,dnd:a,getFileInput:r,addFilesToQueue:l}){const{props:d,emit:c,proxy:i}=_e(),T=q(null),A=k(()=>d.accept!==void 0?d.accept.split(",").map(u=>(u=u.trim(),u==="*"?"*/":(u.endsWith("/*")&&(u=u.slice(0,u.length-1)),u.toUpperCase()))):null),N=k(()=>parseInt(d.maxFiles,10)),E=k(()=>parseInt(d.maxTotalSize,10));function I(u){if(e.value)if(u!==Object(u)&&(u={target:null}),u.target!==null&&u.target.matches('input[type="file"]')===!0)u.clientX===0&&u.clientY===0&&Re(u);else{const z=r();z&&z!==u.target&&z.click(u)}}function R(u){e.value&&u&&l(null,u)}function h(u,z,Y,K){let f=Array.from(z||u.target.files);const y=[],j=()=>{y.length!==0&&c("rejected",y)};if(d.accept!==void 0&&A.value.indexOf("*/")===-1&&(f=ne(f,y,"accept",v=>A.value.some(w=>v.type.toUpperCase().startsWith(w)||v.name.toUpperCase().endsWith(w))),f.length===0))return j();if(d.maxFileSize!==void 0){const v=parseInt(d.maxFileSize,10);if(f=ne(f,y,"max-file-size",w=>w.size<=v),f.length===0)return j()}if(d.multiple!==!0&&f.length!==0&&(f=[f[0]]),f.forEach(v=>{v.__key=v.webkitRelativePath+v.lastModified+v.name+v.size}),K===!0){const v=Y.map(w=>w.__key);f=ne(f,y,"duplicate",w=>v.includes(w.__key)===!1)}if(f.length===0)return j();if(d.maxTotalSize!==void 0){let v=K===!0?Y.reduce((w,O)=>w+O.size,0):0;if(f=ne(f,y,"max-total-size",w=>(v+=w.size,v<=E.value)),f.length===0)return j()}if(typeof d.filter=="function"){const v=d.filter(f);f=ne(f,y,"filter",w=>v.includes(w))}if(d.maxFiles!==void 0){let v=K===!0?Y.length:0;if(f=ne(f,y,"max-files",()=>(v++,v<=N.value)),f.length===0)return j()}if(j(),f.length!==0)return f}function t(u){fe(u),a.value!==!0&&(a.value=!0)}function _(u){je(u),(u.relatedTarget!==null||Ye.is.safari!==!0?u.relatedTarget!==T.value:document.elementsFromPoint(u.clientX,u.clientY).includes(T.value)===!1)===!0&&(a.value=!1)}function P(u){fe(u);const z=u.dataTransfer.files;z.length!==0&&l(null,z),a.value=!1}function g(u){if(a.value===!0)return m("div",{ref:T,class:`q-${u}__dnd absolute-full`,onDragenter:fe,onDragover:fe,onDragleave:_,onDrop:P})}return Object.assign(i,{pickFiles:I,addFiles:R}),{pickFiles:I,addFiles:R,onDragover:t,onDragleave:_,processFiles:h,getDndNode:g,maxFilesNumber:N,maxTotalSizeNumber:E}}function Ee(e){return(e*100).toFixed(2)+"%"}const qa={...Ke,...ka,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Le=[...wa,"start","finish","added","removed"];function Sa(e,a){const r=_e(),{props:l,slots:d,emit:c,proxy:i}=r,{$q:T}=i,A=Ze(l,T);function N(s,b,S){if(s.__status=b,b==="idle"){s.__uploaded=0,s.__progress=0,s.__sizeLabel=Ce(s.size),s.__progressLabel="0.00%";return}if(b==="failed"){i.$forceUpdate();return}s.__uploaded=b==="uploaded"?s.size:S,s.__progress=b==="uploaded"?1:Math.min(.9999,s.__uploaded/s.size),s.__progressLabel=Ee(s.__progress),i.$forceUpdate()}const E=k(()=>l.disable!==!0&&l.readonly!==!0),I=q(!1),R=q(null),h=q(null),t={files:q([]),queuedFiles:q([]),uploadedFiles:q([]),uploadedSize:q(0),updateFileStatus:N,isAlive:()=>Je(r)===!1},{pickFiles:_,addFiles:P,onDragover:g,onDragleave:u,processFiles:z,getDndNode:Y,maxFilesNumber:K,maxTotalSizeNumber:f}=Fa({editable:E,dnd:I,getFileInput:ke,addFilesToQueue:we});Object.assign(t,e({props:l,slots:d,emit:c,helpers:t,exposeApi:s=>{Object.assign(t,s)}})),t.isBusy===void 0&&(t.isBusy=q(!1));const y=q(0),j=k(()=>y.value===0?0:t.uploadedSize.value/y.value),v=k(()=>Ee(j.value)),w=k(()=>Ce(y.value)),O=k(()=>E.value===!0&&t.isUploading.value!==!0&&(l.multiple===!0||t.queuedFiles.value.length===0)&&(l.maxFiles===void 0||t.files.value.length<K.value)&&(l.maxTotalSize===void 0||y.value<f.value)),p=k(()=>E.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);$e(Ae,qe);const J=k(()=>"q-uploader column no-wrap"+(A.value===!0?" q-uploader--dark q-dark":"")+(l.bordered===!0?" q-uploader--bordered":"")+(l.square===!0?" q-uploader--square no-border-radius":"")+(l.flat===!0?" q-uploader--flat no-shadow":"")+(l.disable===!0?" disabled q-uploader--disable":"")+(I.value===!0?" q-uploader--dnd":"")),ee=k(()=>"q-uploader__header"+(l.color!==void 0?` bg-${l.color}`:"")+(l.textColor!==void 0?` text-${l.textColor}`:""));ea(t.isUploading,(s,b)=>{b===!1&&s===!0?c("start"):b===!0&&s===!1&&c("finish")});function ae(){l.disable===!1&&(t.abort(),t.uploadedSize.value=0,y.value=0,ye(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function D(){l.disable===!1&&he(["uploaded"],()=>{t.uploadedFiles.value=[]})}function ue(){he(["idle","failed"],({size:s})=>{y.value-=s,t.queuedFiles.value=[]})}function he(s,b){if(l.disable===!0)return;const S={files:[],size:0},M=t.files.value.filter(V=>s.indexOf(V.__status)===-1?!0:(S.size+=V.size,S.files.push(V),V.__img!==void 0&&window.URL.revokeObjectURL(V.__img.src),!1));S.files.length!==0&&(t.files.value=M,b(S),c("removed",S.files))}function ge(s){l.disable||(s.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(b=>b.__key!==s.__key):s.__status==="uploading"?s.__abort():y.value-=s.size,t.files.value=t.files.value.filter(b=>b.__key!==s.__key?!0:(b.__img!==void 0&&window.URL.revokeObjectURL(b.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(b=>b.__key!==s.__key),c("removed",[s]))}function ye(){t.files.value.forEach(s=>{s.__img!==void 0&&window.URL.revokeObjectURL(s.__img.src)})}function ke(){return h.value||R.value.getElementsByClassName("q-uploader__input")[0]}function we(s,b){const S=z(s,b,t.files.value,!0),M=ke();M!=null&&(M.value=""),S!==void 0&&(S.forEach(V=>{if(t.updateFileStatus(V,"idle"),y.value+=V.size,l.noThumbnails!==!0&&V.type.toUpperCase().startsWith("IMAGE")){const Se=new Image;Se.src=window.URL.createObjectURL(V),V.__img=Se}}),t.files.value=t.files.value.concat(S),t.queuedFiles.value=t.queuedFiles.value.concat(S),c("added",S),l.autoUpload===!0&&t.upload())}function Fe(){p.value===!0&&t.upload()}function se(s,b,S){if(s===!0){const M={type:"a",key:b,icon:T.iconSet.uploader[b],flat:!0,dense:!0};let V;return b==="add"?(M.onClick=_,V=qe):M.onClick=S,m(F,M,V)}}function qe(){return m("input",{ref:h,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:l.accept,multiple:l.multiple===!0?"multiple":void 0,capture:l.capture,onMousedown:Re,onClick:_,onChange:we})}function Ie(){return d.header!==void 0?d.header(le):[m("div",{class:"q-uploader__header-content column"},[m("div",{class:"flex flex-center no-wrap q-gutter-xs"},[se(t.queuedFiles.value.length!==0,"removeQueue",ue),se(t.uploadedFiles.value.length!==0,"removeUploaded",D),t.isUploading.value===!0?m(Ue,{class:"q-uploader__spinner"}):null,m("div",{class:"col column justify-center"},[l.label!==void 0?m("div",{class:"q-uploader__title"},[l.label]):null,m("div",{class:"q-uploader__subtitle"},[w.value+" / "+v.value])]),se(O.value,"add"),se(l.hideUploadBtn===!1&&p.value===!0,"upload",t.upload),se(t.isUploading.value,"clear",t.abort)])])]}function Oe(){return d.list!==void 0?d.list(le):t.files.value.map(s=>m("div",{key:s.__key,class:"q-uploader__file relative-position"+(l.noThumbnails!==!0&&s.__img!==void 0?" q-uploader__file--img":"")+(s.__status==="failed"?" q-uploader__file--failed":s.__status==="uploaded"?" q-uploader__file--uploaded":""),style:l.noThumbnails!==!0&&s.__img!==void 0?{backgroundImage:'url("'+s.__img.src+'")',backgroundSize:l.thumbnailFit}:null},[m("div",{class:"q-uploader__file-header row flex-center no-wrap"},[s.__status==="failed"?m(na,{class:"q-uploader__file-status",name:T.iconSet.type.negative,color:"negative"}):null,m("div",{class:"q-uploader__file-header-content col"},[m("div",{class:"q-uploader__title"},[s.name]),m("div",{class:"q-uploader__subtitle row items-center no-wrap"},[s.__sizeLabel+" / "+s.__progressLabel])]),s.__status==="uploading"?m(ya,{value:s.__progress,min:0,max:1,indeterminate:s.__progress===0}):m(F,{round:!0,dense:!0,flat:!0,icon:T.iconSet.uploader[s.__status==="uploaded"?"done":"clear"],onClick:()=>{ge(s)}})])]))}aa(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&ye()});const le={};for(const s in t)la(t[s])===!0?ta(le,s,()=>t[s].value):le[s]=t[s];return Object.assign(le,{upload:Fe,reset:ae,removeUploadedFiles:D,removeQueuedFiles:ue,removeFile:ge,pickFiles:_,addFiles:P}),oa(le,{canAddFiles:()=>O.value,canUpload:()=>p.value,uploadSizeLabel:()=>w.value,uploadProgressLabel:()=>v.value}),a({...t,upload:Fe,reset:ae,removeUploadedFiles:D,removeQueuedFiles:ue,removeFile:ge,pickFiles:_,addFiles:P,canAddFiles:O,canUpload:p,uploadSizeLabel:w,uploadProgressLabel:v}),()=>{const s=[m("div",{class:ee.value},Ie()),m("div",{class:"q-uploader__list scroll"},Oe()),Y("uploader")];t.isBusy.value===!0&&s.push(m("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[m(Ue)]));const b={ref:R,class:J.value};return O.value===!0&&Object.assign(b,{onDragover:g,onDragleave:u}),m("div",b,s)}}const Ca=()=>!0;function xa(e){const a={};return e.forEach(r=>{a[r]=Ca}),a}const Ua=xa(Le),za=({name:e,props:a,emits:r,injectPlugin:l})=>be({name:e,props:{...qa,...a},emits:sa(r)===!0?{...Ua,...r}:[...Le,...r],setup(d,{expose:c}){return Sa(l,c)}});function X(e){return typeof e=="function"?e:()=>e}const Va="QUploader",Ba={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},Qa=["factoryFailed","uploaded","failed","uploading"];function Ta({props:e,emit:a,helpers:r}){const l=q([]),d=q([]),c=q(0),i=k(()=>({url:X(e.url),method:X(e.method),headers:X(e.headers),formFields:X(e.formFields),fieldName:X(e.fieldName),withCredentials:X(e.withCredentials),sendRaw:X(e.sendRaw),batch:X(e.batch)})),T=k(()=>c.value>0),A=k(()=>d.value.length!==0);let N;function E(){l.value.forEach(t=>{t.abort()}),d.value.length!==0&&(N=!0)}function I(){const t=r.queuedFiles.value.slice(0);r.queuedFiles.value=[],i.value.batch(t)?R(t):t.forEach(_=>{R([_])})}function R(t){if(c.value++,typeof e.factory!="function"){h(t,{});return}const _=e.factory(t);if(!_)a("factoryFailed",new Error("QUploader: factory() does not return properly"),t),c.value--;else if(typeof _.catch=="function"&&typeof _.then=="function"){d.value.push(_);const P=g=>{r.isAlive()===!0&&(d.value=d.value.filter(u=>u!==_),d.value.length===0&&(N=!1),r.queuedFiles.value=r.queuedFiles.value.concat(t),t.forEach(u=>{r.updateFileStatus(u,"failed")}),a("factoryFailed",g,t),c.value--)};_.then(g=>{N===!0?P(new Error("Aborted")):r.isAlive()===!0&&(d.value=d.value.filter(u=>u!==_),h(t,g))}).catch(P)}else h(t,_||{})}function h(t,_){const P=new FormData,g=new XMLHttpRequest,u=(p,J)=>_[p]!==void 0?X(_[p])(J):i.value[p](J),z=u("url",t);if(!z){console.error("q-uploader: invalid or no URL specified"),c.value--;return}const Y=u("formFields",t);Y!==void 0&&Y.forEach(p=>{P.append(p.name,p.value)});let K=0,f=0,y=0,j=0,v;g.upload.addEventListener("progress",p=>{if(v===!0)return;const J=Math.min(j,p.loaded);r.uploadedSize.value+=J-y,y=J;let ee=y-f;for(let ae=K;ee>0&&ae<t.length;ae++){const D=t[ae];if(ee>D.size)ee-=D.size,K++,f+=D.size,r.updateFileStatus(D,"uploading",D.size);else{r.updateFileStatus(D,"uploading",ee);return}}},!1),g.onreadystatechange=()=>{g.readyState<4||(g.status&&g.status<400?(r.uploadedFiles.value=r.uploadedFiles.value.concat(t),t.forEach(p=>{r.updateFileStatus(p,"uploaded")}),a("uploaded",{files:t,xhr:g})):(v=!0,r.uploadedSize.value-=y,r.queuedFiles.value=r.queuedFiles.value.concat(t),t.forEach(p=>{r.updateFileStatus(p,"failed")}),a("failed",{files:t,xhr:g})),c.value--,l.value=l.value.filter(p=>p!==g))},g.open(u("method",t),z),u("withCredentials",t)===!0&&(g.withCredentials=!0);const w=u("headers",t);w!==void 0&&w.forEach(p=>{g.setRequestHeader(p.name,p.value)});const O=u("sendRaw",t);t.forEach(p=>{r.updateFileStatus(p,"uploading",0),O!==!0&&P.append(u("fieldName",p),p,p.name),p.xhr=g,p.__abort=()=>{g.abort()},j+=p.size}),a("uploading",{files:t,xhr:g}),l.value.push(g),O===!0?g.send(new Blob(t)):g.send(P)}return{isUploading:T,isBusy:A,abort:E,upload:I}}const Ea={name:Va,props:Ba,emits:Qa,injectPlugin:Ta},Pe=za(Ea);function Pa(e){const a=document.createElement("textarea");a.value=e,a.contentEditable="true",a.style.position="fixed";const r=()=>{};ra(r),document.body.appendChild(a),a.focus(),a.select();const l=document.execCommand("copy");return a.remove(),ia(r),l}function me(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((a,r)=>{const l=Pa(e);l?a(!0):r(l)})}const Aa={setup(){return{util:G,uix:L,copyToClipboard:me,image:q({types:[],type:null,file:null,loading:!1,copying:!1,path:null,sync:{show:!1,loading:!1,password:null}}),admin:q({loading:!1}),bcrypt:q({tab:"generate",rounds:[],round:null,copying:!1,checking:!1,gen_pass:null,gen_hash:null,chk_pass:null,chk_hash:null,chk_result:null}),password:q({factor:null,value:null,hashed:null,copying:!1,loading:!1})}},created(){let e=this;$.call({path:"/tool/image/types",onSuccess(a){e.image.types=[{label:"",value:null}],G.isArray(a)&&Array.prototype.push.apply(e.image.types,a)},notify:!1}),e.bcrypt.rounds=[null];for(let a=4;a<17;a++)e.bcrypt.rounds.push(a)},methods:{on_image_sync(){let e=this,a=e.image.sync.password;if(a=G.isString(a)?a:"",!a?.length){L.error("error.required","label.password");return}e.image.sync.loading=!0,$.call({path:"/tool/image/sync",method:"post",params:{password:a},onFinish(){e.image.sync.loading=!1},onSuccess(){e.image.sync.show=!1}})},on_image_path_copy(){let e=this;me(e.image.path),e.image.copying=!0,setTimeout(function(){e.image.copying=!1},3e3)},on_image_upload(){let e=this,a=e.image.type;if(!a?.value){L.error("error.required","label.type");return}let r=e.image;if(!r.file){L.error("error.required","label.file");return}let l=new FormData;l.append("file",r.file),l.append("type",a.value),r.loading=!0,$.call({path:"/tool/image/upload",method:"post",data:l,headers:{"Content-Type":"multipart/form-data"},onFinish(){r.loading=!1},onSuccess(d){r.path=d}})},on_image_sync_click(){let e=this;e.image.sync={show:!0,password:null}},on_admin_upload(e){if(G.log(e),!(G.isArray(e.files)&&e.files.length)){L.error("error.required","label.file");return}let a=this,r=new FormData;r.append("file",e.files[0]),a.admin.loading=!0,$.call({path:"/tool/admin/upload",method:"post",data:r,headers:{"Content-Type":"multipart/form-data"},onFinish(){a.admin.loading=!1},onSuccess(){e.reset(),L.alert("label.successfully_uploaded")}})},on_bcrypt_copy(){let e=this;me(e.bcrypt.gen_hash),e.bcrypt.copying=!0,setTimeout(function(){e.bcrypt.copying=!1},3e3)},on_bcrypt_generate(){let e=this,a=e.bcrypt.gen_pass;if(a=G.isString(a)?a:"",!a?.length){L.error("error.required","label.password");return}e.bcrypt.loading=!0,$.call({path:"/tool/bcrypt/generate",method:"post",params:{round:e.bcrypt.round,password:a},onFinish(){e.bcrypt.loading=!1},onSuccess(r){e.bcrypt.gen_hash=r}})},on_bcrypt_check(){let e=this;e.bcrypt.chk_result=null;let a=e.bcrypt.chk_pass;if(a=G.isString(a)?a:"",!a?.length){L.error("error.required","label.password");return}let r=e.bcrypt.chk_hash;if(r=G.isString(r)?r:"",!r?.length){L.error("error.required","label.hash");return}e.bcrypt.checking=!0,$.call({path:"/tool/bcrypt/check",method:"post",params:{password:a,hash:r},onFinish(){e.bcrypt.checking=!1},onSuccess(l){e.bcrypt.chk_result=l}})},on_password_encrypt(){let e=this,a=e.password.value;if(a=G.isString(a)?a:"",!a?.length){L.error("error.required","label.password");return}e.password.loading=!0,$.call({path:"/tool/password/encrypt",method:"post",params:{password:a,factor:e.password.factor},onFinish(){e.password.loading=!1},onSuccess(r){e.password.hashed=r}})},on_password_copy(){let e=this;me(e.password.hashed),e.password.copying=!0,setTimeout(function(){e.password.copying=!1},3e3)}}},Ra={class:"row q-pl-sm q-pr-sm"},ja={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs q-mb-sm"},Na={class:"row no-wrap items-center q-pr-sm q-gutter-xs"},Da={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs q-mb-sm"},La={class:"row no-wrap items-center q-pr-sm q-gutter-xs"},Ia={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs q-mb-sm"},Oa={class:"q-field--outlined q-pa-none"},Ma={class:"q-ml-md text-bold"},Wa={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs q-mb-sm"},Ga={class:"row"},Ha={class:"col-6 text-left"},Xa={class:"col-6 text-right"};function Ya(e,a,r,l,d,c){return x(),da(pa,null,[C("div",Ra,[C("div",ja,[o(ie,{bordered:""},{default:n(()=>[o(de,null,{default:n(()=>[o(re,null,{default:n(()=>[o(ce,{class:"text-h6"},{default:n(()=>[B(U(e.$t("label.image")),1)]),_:1})]),_:1}),o(re,{side:""},{default:n(()=>[o(F,{class:"text-caption",flat:"",round:"",glossy:"",dense:"",icon:"cloud_sync",onClick:c.on_image_sync_click},{default:n(()=>[o(W,null,{default:n(()=>[B(U(e.$t("label.house_keeping")),1)]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),o(te),o(oe,{class:"q-pa-xs"},{default:n(()=>[o(Pe,{style:{width:"100%"},accept:".jpg, .png, image/*",color:"transparent","hide-upload-btn":"",flat:"",bordered:"",onAdded:a[0]||(a[0]=i=>l.image.file=i[0]),onRemoved:a[1]||(a[1]=i=>l.image.file=null)},{header:n(i=>[C("div",Na,[a[18]||(a[18]=C("div",{class:"col"},null,-1)),i.canAddFiles?(x(),Q(F,{key:0,type:"a",icon:"add_box",onClick:i.pickFiles,round:"",dense:"",flat:""},{default:n(()=>[o(Te)]),_:2},1032,["onClick"])):Z("",!0)])]),_:1})]),_:1}),o(te),l.image.file||l.image.path?(x(),Q(ze,{key:0,class:"q-pa-xs q-pl-sm q-pr-sm row"},{default:n(()=>[l.image.file&&!l.image.path?(x(),Q(Ve,{key:0,class:"col-12",modelValue:l.image.type,"onUpdate:modelValue":a[2]||(a[2]=i=>l.image.type=i),label:e.$t("label.type"),options:l.image.types,"option-value":"value","option-label":"label",borderless:"",dense:""},{after:n(()=>[o(F,{flat:"",round:"",dense:"",icon:"send",onClick:c.on_image_upload},null,8,["onClick"])]),_:1},8,["modelValue","label","options"])):Z("",!0),l.image.file&&l.image.path?(x(),Q(H,{key:1,class:"col-12",modelValue:l.image.path,"onUpdate:modelValue":a[3]||(a[3]=i=>l.image.path=i),standout:"",readonly:"",dense:""},{append:n(()=>[l.image.copying?(x(),Q(F,{key:0,label:e.$t("copied"),flat:"",color:"green",dense:"",icon:"done_all","no-caps":"",disable:""},null,8,["label"])):(x(),Q(F,{key:1,flat:"",round:"",dense:"",icon:"content_copy",onClick:c.on_image_path_copy},null,8,["onClick"]))]),_:1},8,["modelValue"])):Z("",!0)]),_:1})):Z("",!0),o(pe,{showing:l.image.loading},null,8,["showing"])]),_:1})]),C("div",Da,[o(ie,{bordered:""},{default:n(()=>[o(de,null,{default:n(()=>[o(re,null,{default:n(()=>[o(ce,{class:"text-h6"},{default:n(()=>[B(U(e.$t("label.admin")),1)]),_:1})]),_:1})]),_:1}),o(te),o(oe,{class:"q-pa-xs"},{default:n(()=>[o(Pe,{style:{width:"100%"},accept:".zip",color:"transparent",flat:"",bordered:""},{header:n(i=>[C("div",La,[a[19]||(a[19]=C("div",{class:"col"},null,-1)),i.canAddFiles?(x(),Q(F,{key:0,type:"a",icon:"add_box",onClick:i.pickFiles,round:"",dense:"",flat:""},{default:n(()=>[o(Te)]),_:2},1032,["onClick"])):Z("",!0),i.canUpload?(x(),Q(F,{key:1,icon:"cloud_upload",onClick:T=>c.on_admin_upload(i),round:"",dense:"",flat:""},{default:n(()=>[o(W,null,{default:n(()=>[B(U(e.$t("label.upload")),1)]),_:1})]),_:2},1032,["onClick"])):Z("",!0)])]),_:1})]),_:1}),o(pe,{showing:l.admin.loading},null,8,["showing"])]),_:1})]),C("div",Ia,[o(ie,{bordered:""},{default:n(()=>[o(de,null,{default:n(()=>[o(re,null,{default:n(()=>[o(ce,{class:"text-h6"},{default:n(()=>[B(U(e.$t("label.bcrypt")),1)]),_:1})]),_:1})]),_:1}),o(te),o(oe,{class:"q-pa-none"},{default:n(()=>[o(ma,{modelValue:l.bcrypt.tab,"onUpdate:modelValue":a[4]||(a[4]=i=>l.bcrypt.tab=i),dense:"","no-caps":"",align:"justify","inline-label":""},{default:n(()=>[o(Be,{name:"generate",icon:"pattern",label:e.$t("label.generate")},null,8,["label"]),o(Be,{name:"check",icon:"rule",label:e.$t("label.check")},null,8,["label"])]),_:1},8,["modelValue"]),o(te),o(ga,{modelValue:l.bcrypt.tab,"onUpdate:modelValue":a[11]||(a[11]=i=>l.bcrypt.tab=i),animated:""},{default:n(()=>[o(Qe,{name:"generate",class:"q-pa-sm"},{default:n(()=>[C("div",Oa,[o(H,{modelValue:l.bcrypt.gen_pass,"onUpdate:modelValue":a[6]||(a[6]=i=>l.bcrypt.gen_pass=i),label:e.$t("label.password"),class:"q-ma-none",borderless:"",dense:""},{prepend:n(()=>[o(Ve,{modelValue:l.bcrypt.round,"onUpdate:modelValue":a[5]||(a[5]=i=>l.bcrypt.round=i),options:l.bcrypt.rounds,dense:"",borderless:"",class:"q-mr-sm"},{prepend:n(()=>a[20]||(a[20]=[C("div",{style:{width:"5px"}},null,-1)])),default:n(()=>[o(W,null,{default:n(()=>[B(U(e.$t("label.round")),1)]),_:1})]),_:1},8,["modelValue","options"])]),append:n(()=>[o(F,{round:"",dense:"",flat:"",icon:"send",onClick:c.on_bcrypt_generate},{default:n(()=>[o(W,null,{default:n(()=>[B(U(e.$t("label.generate")),1)]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue","label"])]),l.bcrypt.gen_hash?.length?(x(),Q(H,{key:0,modelValue:l.bcrypt.gen_hash,"onUpdate:modelValue":a[8]||(a[8]=i=>l.bcrypt.gen_hash=i),standout:"",readonly:"",dense:"",class:"q-mt-xs"},{prepend:n(()=>[o(F,{round:"",dense:"",flat:"",color:"negative",icon:"close",onClick:a[7]||(a[7]=i=>l.bcrypt.gen_hash=null)},{default:n(()=>[o(W,null,{default:n(()=>[B(U(e.$t("label.close")),1)]),_:1})]),_:1})]),append:n(()=>[l.bcrypt.copying?(x(),Q(F,{key:0,label:e.$t("copied"),flat:"",color:"green",dense:"",icon:"done_all","no-caps":"",disable:""},null,8,["label"])):(x(),Q(F,{key:1,flat:"",round:"",dense:"",icon:"content_copy",onClick:c.on_bcrypt_copy},{default:n(()=>[o(W,null,{default:n(()=>[B(U(e.$t("label.copy")),1)]),_:1})]),_:1},8,["onClick"]))]),_:1},8,["modelValue"])):Z("",!0)]),_:1}),o(Qe,{name:"check",class:"q-pa-sm"},{default:n(()=>[o(H,{modelValue:l.bcrypt.chk_pass,"onUpdate:modelValue":a[9]||(a[9]=i=>l.bcrypt.chk_pass=i),label:e.$t("label.password"),outlined:"",dense:"",class:"q-mb-xs"},null,8,["modelValue","label"]),o(H,{modelValue:l.bcrypt.chk_hash,"onUpdate:modelValue":a[10]||(a[10]=i=>l.bcrypt.chk_hash=i),label:e.$t("label.hash"),outlined:"",dense:"",class:"q-mb-xs"},null,8,["modelValue","label"]),o(F,{label:e.$t("label.check"),loading:l.bcrypt.checking,glossy:"","no-caps":"",onClick:c.on_bcrypt_check},null,8,["label","loading","onClick"]),C("span",Ma,U(l.bcrypt.chk_result),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(pe,{showing:l.bcrypt.loading},null,8,["showing"])]),_:1})]),C("div",Wa,[o(ie,{bordered:""},{default:n(()=>[o(de,null,{default:n(()=>[o(re,null,{default:n(()=>[o(ce,{class:"text-h6"},{default:n(()=>[B(U(e.$t("label.password")),1)]),_:1})]),_:1})]),_:1}),o(te),o(oe,{class:"q-pa-sm"},{default:n(()=>[C("div",Ga,[o(H,{modelValue:l.password.factor,"onUpdate:modelValue":a[12]||(a[12]=i=>l.password.factor=i),type:"number",label:e.$t("label.factor"),class:"col-3",outlined:"",dense:""},null,8,["modelValue","label"]),o(H,{modelValue:l.password.value,"onUpdate:modelValue":a[13]||(a[13]=i=>l.password.value=i),label:e.$t("label.password"),class:"col-9",outlined:"",dense:""},{append:n(()=>[o(F,{round:"",dense:"",flat:"",icon:"send",loading:l.password.loading,onClick:c.on_password_encrypt},{default:n(()=>[o(W,null,{default:n(()=>[B(U(e.$t("label.generate")),1)]),_:1})]),_:1},8,["loading","onClick"])]),_:1},8,["modelValue","label"])]),l.password.hashed?.length?(x(),Q(H,{key:0,modelValue:l.password.hashed,"onUpdate:modelValue":a[15]||(a[15]=i=>l.password.hashed=i),standout:"",readonly:"",dense:"",class:"q-mt-xs"},{prepend:n(()=>[o(F,{round:"",dense:"",flat:"",color:"negative",icon:"close",onClick:a[14]||(a[14]=i=>l.password.hashed=null)},{default:n(()=>[o(W,null,{default:n(()=>[B(U(e.$t("label.close")),1)]),_:1})]),_:1})]),append:n(()=>[l.password.copying?(x(),Q(F,{key:0,label:e.$t("copied"),flat:"",color:"green",dense:"",icon:"done_all","no-caps":"",disable:""},null,8,["label"])):(x(),Q(F,{key:1,flat:"",round:"",dense:"",icon:"content_copy",onClick:c.on_password_copy},{default:n(()=>[o(W,null,{default:n(()=>[B(U(e.$t("label.copy")),1)]),_:1})]),_:1},8,["onClick"]))]),_:1},8,["modelValue"])):Z("",!0)]),_:1}),o(pe,{showing:l.password.loading},null,8,["showing"])]),_:1})])]),o(ca,{modelValue:l.image.sync.show,"onUpdate:modelValue":a[17]||(a[17]=i=>l.image.sync.show=i),persistent:""},{default:n(()=>[o(ie,null,{default:n(()=>[o(oe,{class:"q-pa-xs q-pl-lg q-pr-lg text-center"},{default:n(()=>[B(U(e.$t("label.password")),1)]),_:1}),o(oe,{class:"q-pa-sm"},{default:n(()=>[o(va,{onSubmit:c.on_image_sync},{default:n(()=>[o(H,{modelValue:l.image.sync.password,"onUpdate:modelValue":a[16]||(a[16]=i=>l.image.sync.password=i),type:"password",filled:"",dense:"","input-class":"text-center"},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),_:1}),o(ze,{class:"row"},{default:n(()=>[C("div",Ha,[fa(o(F,{"no-caps":"",ripple:"",glossy:"",label:e.$t("label.cancel"),color:"negative"},null,8,["label"]),[[ba]])]),C("div",Xa,[o(F,{"no-caps":"",ripple:"",glossy:"",label:e.$t("label.continue"),color:"positive",loading:l.image.sync.loading,onClick:c.on_image_sync},null,8,["label","loading","onClick"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const sl=ua(Aa,[["render",Ya]]);export{sl as default};
