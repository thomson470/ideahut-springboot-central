const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Search-wK30-C2Y.js","assets/format-B2bnFOAj.js","assets/index-DR8vcSVV.js","assets/index-CWourn4h.css","assets/QTooltip-yDWh9haU.js","assets/QTabPanels-D42-P5uE.js","assets/QResizeObserver-BZLpK1Mj.js","assets/QSelect-DRrcuyuj.js","assets/QPopupProxy-BtBFRHAC.js","assets/TouchPan-D6T6wx6r.js","assets/QForm-BfZt62if.js","assets/ClosePopup-Dm8m1oe-.js","assets/View-BDXPbWL_.js","assets/QSpace-KGtmaO9N.js","assets/QList-B4LjA0mH.js","assets/QInnerLoading-aglVToLV.js","assets/QTable-Bq8EQDGx.js","assets/Edit-ZpXbgNFh.js","assets/QFab-CDC9eMVu.js"])))=>i.map(i=>d[i]);
import{l as J,aq as W,ar as H,h as I,Z as r,a0 as _,$ as D,_ as X,al as P,r as S,ac as G,f as m,a5 as f,am as T,F as Y,a3 as Q,a4 as y,a2 as v,a7 as q,a8 as C,a6 as V,aa as O,G as U,as as Z,at as K,ae as L,au as B,ak as $,av as ee,C as le,ab as te,ap as z}from"./index-DR8vcSVV.js";import{Q as E}from"./QTooltip-yDWh9haU.js";import{Q as M}from"./QSpace-KGtmaO9N.js";import{Q as ie,b as ae,a as re}from"./format-B2bnFOAj.js";import{Q as ne}from"./QSelect-DRrcuyuj.js";import{a as oe}from"./QList-B4LjA0mH.js";import{Q as R}from"./QInnerLoading-aglVToLV.js";import{Q as se}from"./QTable-Bq8EQDGx.js";import{T as de}from"./TouchPan-D6T6wx6r.js";const ce='<g transform="translate(-20,-20)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="90 50 50" to="0 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g><g transform="translate(20,20) rotate(15 50 50)"><path d="M79.9,52.6C80,51.8,80,50.9,80,50s0-1.8-0.1-2.6l-5.1-0.4c-0.3-2.4-0.9-4.6-1.8-6.7l4.2-2.9c-0.7-1.6-1.6-3.1-2.6-4.5 L70,35c-1.4-1.9-3.1-3.5-4.9-4.9l2.2-4.6c-1.4-1-2.9-1.9-4.5-2.6L59.8,27c-2.1-0.9-4.4-1.5-6.7-1.8l-0.4-5.1C51.8,20,50.9,20,50,20 s-1.8,0-2.6,0.1l-0.4,5.1c-2.4,0.3-4.6,0.9-6.7,1.8l-2.9-4.1c-1.6,0.7-3.1,1.6-4.5,2.6l2.1,4.6c-1.9,1.4-3.5,3.1-5,4.9l-4.5-2.1 c-1,1.4-1.9,2.9-2.6,4.5l4.1,2.9c-0.9,2.1-1.5,4.4-1.8,6.8l-5,0.4C20,48.2,20,49.1,20,50s0,1.8,0.1,2.6l5,0.4 c0.3,2.4,0.9,4.7,1.8,6.8l-4.1,2.9c0.7,1.6,1.6,3.1,2.6,4.5l4.5-2.1c1.4,1.9,3.1,3.5,5,4.9l-2.1,4.6c1.4,1,2.9,1.9,4.5,2.6l2.9-4.1 c2.1,0.9,4.4,1.5,6.7,1.8l0.4,5.1C48.2,80,49.1,80,50,80s1.8,0,2.6-0.1l0.4-5.1c2.3-0.3,4.6-0.9,6.7-1.8l2.9,4.2 c1.6-0.7,3.1-1.6,4.5-2.6L65,69.9c1.9-1.4,3.5-3,4.9-4.9l4.6,2.2c1-1.4,1.9-2.9,2.6-4.5L73,59.8c0.9-2.1,1.5-4.4,1.8-6.7L79.9,52.6 z M50,65c-8.3,0-15-6.7-15-15c0-8.3,6.7-15,15-15s15,6.7,15,15C65,58.3,58.3,65,50,65z" fill="currentColor"><animateTransform attributeName="transform" type="rotate" from="0 50 50" to="90 50 50" dur="1s" repeatCount="indefinite"></animateTransform></path></g>',fe=J({name:"QSpinnerGears",props:W,setup(e){const{cSize:t,classes:i}=H(e);return()=>I("svg",{class:i.value,width:t.value,height:t.value,viewBox:"0 0 100 100",preserveAspectRatio:"xMidYMid",xmlns:"http://www.w3.org/2000/svg",innerHTML:ce})}}),A=eval,s={id:{fromPk:function(e,t){if(r.isDefined(t))return e.type==="STANDARD"?t:JSON.parse(t)},toPk:function(e,t){let i;if(e.type==="COMPOSITE"){i={};for(const l of e.fields)i[l]=t[l];i=JSON.stringify(i)}else e.type==="EMBEDDED"?i=JSON.stringify(t[e.fields[0]]):e.type==="STANDARD"&&(i=t[e.fields[0]]);return i}},prepare:{toFunction:function(e){if(r.isArray(e))for(const t of e){let i=t.format;r.isString(i)&&i.startsWith("function")?(i=A("("+i+")"),t.format=i):delete t.format;let l=t.toValue;r.isString(l)&&l.startsWith("function")?(l=A("("+l+")"),t.toValue=l):delete t.toValue;let n=t.nullValue;r.isString(n)&&n.startsWith("function")?(n=A("("+n+")"),t.nullValue=n):delete t.nullValue;let d=t.rowToValue;r.isString(d)&&d.startsWith("function")?(d=A("("+d+")"),t.rowToValue=d):delete t.rowToValue}},options:function(e){r.isObject(e)&&Object.keys(e).forEach(t=>{let i=s.get.array(e[t]);for(const l of i)(!r.isDefined(l.value)||l.value===null)&&(l.value=void 0);e[t]=i})},children:function(e){if(r.isArray(e))for(const t of e){let i=s.get.array(t.fields);s.prepare.toFunction(i),t.fields=i;let l=s.get.object(t.table);s.prepare.toFunction(l.columns),t.table=l}},forms:function(e){if(r.isArray(e))for(const t of e){let i=s.get.array(t.fields);s.prepare.toFunction(i),t.fields=i}},picks:function(e){r.isObject(e)&&Object.keys(e).forEach(t=>{let i=s.get.object(e[t]),l=s.get.object(i.table);s.prepare.toFunction(l.columns),i.table=l,e[t]=i})}},inject:{pkAndGridId:function(e,t,i){if(r.isArray(t)){let l;if(e.type==="COMPOSITE")for(const n of t){l={};for(const d of e.fields)l[d]=n[d];Object.keys(l).length===0?l=void 0:l=JSON.stringify(l),n._pk_=l,n._grid_id_=i}else if(e.type==="EMBEDDED")for(const n of t)l=n[e.fields[0]],r.isObject(l)&&Object.keys(l).length!==0?l=JSON.stringify(l):l=void 0,n._pk_=l,n._grid_id_=i;else if(e.type==="STANDARD")for(const n of t)n._pk_=n[e.fields[0]],n._grid_id_=i}else if(r.isObject(t)){let l;if(e.type==="COMPOSITE"){l={};for(const n of e.fields)l[n]=t[n];Object.keys(l).length===0?l=void 0:l=JSON.stringify(l)}else e.type==="EMBEDDED"?(l=t[e.fields[0]],r.isObject(l)&&Object.keys(l).length!==0?l=JSON.stringify(l):l=void 0):e.type==="STANDARD"&&(l=t[e.fields[0]]);t._pk_=l,t._grid_id_=i}}},update:{page:function(e,t,i){if(e.page=t.index,e.rowsPerPage=t.size,r.isNumber(t.records))e.rowsNumber=t.records;else{let l=t.index*t.size;i!==t.size?e.rowsNumber=l:e.rowsNumber=l+1}}},get:{string:function(e,t){return r.isString(e)?e:t},number:function(e,t){return r.isNumber(e)?e:t},object:function(e){return r.isObject(e)?e:{}},array:function(e){return r.isArray(e)?e:[]},firstArray:function(e){if(r.isArray(e)&&e.length>0)return e[0]},pagination(e,t){let i=e?.pagination?e.pagination:t.pagination;return i?(t.pagination=i,i):t.pagination}},copy:function(e){return JSON.parse(JSON.stringify(e))},clone:{field:function(e){let t=s.copy(e);return t.format=e.format,t.toValue=e.toValue,t.nullValue=e.nullValue,t.rowToValue=e.rowToValue,t}},validation:{field:function(e){let t=e.validations;if(r.isString(t)&&(t=[t]),!r.isArray(t)||!t.length)return!0;let i=r.isDefined(e.value)?e.value+"":"",l;for(const n of t)if(l=n.trim().toLowerCase(),l==="required"){if(!i.trim().length)return _.error("error.required",e.label),!1}else if(l==="number"){let d=+i;if(isNaN(d))return _.error("error.fill_with_numbers",e.label),!1}else if(l==="email"){if(i=i.trim(),!r.isEmail(i))return _.error("error.fill_with_email",e.label),!1;e.value=i}else if(l.startsWith("length:")){let d=+l.substring(7).trim();if(!isNaN(d)&&i.length!==d)return _.error("error.fill_with_length",e.label,d),!1}else if(l.startsWith("maxlength:")){let d=+l.substring(10).trim();if(!isNaN(d)&&i.length>d)return _.error("error.fill_with_maxlength",e.label,d),!1}else if(l.startsWith("minlength:")){let d=+l.substring(10).trim();if(!isNaN(d)&&i.length<d)return _.error("error.fill_with_minlength",e.label,d),!1}return!0}},action:{page:function(e){let t=e.props,i=e.table,{page:l,rowsPerPage:n,sortBy:d,descending:w}=s.get.pagination(t,i),h=[],c=e.search;if(!c.empty){let p,x;for(const b of c.filters)if(p=r.isDefined(b.value)?b.value:"",p!=="")if(b.condition==="BETWEEN")x=r.isDefined(b.value2)?b.value2:"",x!==""&&(b.type==="datetime"&&b.converter==="epoch"&&(p=r.parse.epoch(p,{format:b.pattern||null}),x=r.parse.epoch(x,{format:b.pattern||null})),h.push({field:b.name,condition:b.condition,values:[p,x]}));else{b.type==="datetime"&&b.converter==="epoch"&&(p=r.parse.epoch(p,{format:b.pattern||null}));let j=b.or;if(r.isString[j]&&(j=[j]),j=r.isArray(j)?j:[],j.length){let F={logical:"and",filters:[]};for(let N=0;N<j.length;N++)F.filters.push({field:j[N],logical:N===0?"and":"or",condition:b.condition,value:p});h.push(F)}else h.push({field:b.name,condition:b.condition,value:p})}}let o=e.relations;if(r.isArray(o))for(const p of o)h.push({field:p.target,condition:"EQUAL",value:p.value});let u=e.definition,k=e.replica,g=s.copy(u.crud);if(r.isNumber(k)&&k>-1&&(g.replica=k,r.isArray(g.joins)))for(const p of g.joins)p.enableReplica===!0&&(p.replica=g.replica);g.page={index:l,size:n,count:u.table.page.count===!0},g.filters=r.isArray(g.filters)?g.filters:[],g.filters=g.filters.concat(h),d&&(g.orders=[(w?"-":"")+d]),i.loading=!0,i.selected=[],D.call({path:"/crud/page",method:"post",data:g,onFinish(){i.loading=!1},onSuccess(p){r.isObject(p)&&(i.rows=s.get.array(p.data),s.inject.pkAndGridId(u.id,i.rows,u._grid_id_),s.update.page(i.pagination,p,i.rows.length),i.pagination.sortBy=d,i.pagination.descending=w)}})},delete:function(e){let t=[];if(e?.row)t.push(s.id.fromPk(e.definition.id,e.row._pk_));else for(const i of e.table.selected)t.push(s.id.fromPk(e.definition.id,i._pk_));t.length&&(e.deleting=!1,_.confirm(function(){let i=s.copy(e.definition.crud),l="/crud/delete";t.length===1?i.id=t[0]:(i.ids=t,l+="s");let n=e.replica;r.isNumber(n)&&n>-1&&(i.replica=n),e.deleting=!0,D.call({path:l,method:"post",data:i,onFinish(){e.deleting=!1},onSuccess(d){r.isFunction(e.onSuccess)&&e.onSuccess(d)}})},"confirm.delete"))},save:function(e){let t={};for(const c of e.fields){if(!s.validation.field(c))return;if(c.type==="datetime"&&c.converter==="epoch")t[c.name]=r.parse.epoch(c.value,{format:c.pattern||null});else if(c.type==="pick")if(c.value===void 0&&c.nullable)if(r.isFunction(c.nullValue)){let o=c.nullValue();r.isObject(o)?Object.keys(o).forEach(u=>{t[u]=o[u]}):t[c.name]=o}else t[c.name]=null;else if(r.isFunction(c.toValue)&&r.isObject(c.value)){let o=c.toValue(c.value);Object.keys(o).forEach(u=>{t[u]=o[u]})}else t[c.name]=c.value;else c.value===void 0&&c.nullable?r.isFunction(c.nullValue)?t[c.name]=c.nullValue():t[c.name]=c.nullEmpty===!0?"":null:t[c.name]=c.value}let i=e.relations;if(r.isArray(i))for(const c of i)t[c.target]=c.value;let l={};Object.keys(t).forEach(c=>{let o=t[c],u=c.split("."),k=l;for(let g=0;g<u.length;g++)k=k[u[g]]=g==u.length-1?o:r.isObject(k[u[g]])?k[u[g]]:{}});let n=e.definition,d=s.copy(n.crud);d.value=l;let w=e.replica;r.isNumber(w)&&w>-1&&(d.replica=w);let h;e.is_edit===!0?(d.id=e.id,h="/crud/update"):h="/crud/create",e.saving=!0,D.call({path:h,method:"post",data:d,onFinish(){e.saving=!1},onSuccess(c){c=s.get.object(c),s.inject.pkAndGridId(n.id,c,n._grid_id_),r.isFunction(e.onSuccess)&&e.onSuccess(c)}})}},permission:{view:function(e){let t=r.isObject(e)?e:{};return r.isArray(t.actions)&&t.actions.includes("PAGE")},add:function(e){let t=r.isObject(e)?e:{};return r.isArray(t.actions)&&t.actions.includes("CREATE")},edit:function(e){let t=r.isObject(e)?e:{};return r.isArray(t.actions)&&t.actions.includes("UPDATE")},delete:function(e){let t=r.isObject(e)?e:{};return r.isArray(t.actions)&&t.actions.includes("DELETE")},deletes:function(e){let t=r.isObject(e)?e:{};return r.isArray(t.actions)&&t.actions.includes("DELETES")}}};let a;const me=r.uuid();window.__util__=r;window.__grid__={};window.__gkeys__=[];const ue=(e,t)=>{window.__gkeys__.push(e),window.__grid__[e]=t;let i=window.__gkeys__.length-10;if(i>0){const l=window.__gkeys__.splice(0,i);for(const n of l)delete window.__grid__[n]}},ge={components:{Search:P(()=>z(()=>import("./Search-wK30-C2Y.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11]))),View:P(()=>z(()=>import("./View-BDXPbWL_.js"),__vite__mapDeps([12,2,3,1,4,11,9,13,7,14,15,16]))),Edit:P(()=>z(()=>import("./Edit-ZpXbgNFh.js"),__vite__mapDeps([17,2,3,1,4,7,5,6,8,9,18,11,13,14,15,16])))},setup(){return{uix:_,util:r,fxGrid:s,is_template_loading:S(!1),template:S({}),permission:S({}),parent:S(null),name:S(null),replica:S(null),dialog:S({search:_.dialog.init(()=>a.dialog.search),view:_.dialog.init(),edit:_.dialog.init()}),search:S({filters:[],empty:!0}),table:S({rows:[],columns:[],visibles:[],selected:[],pagination:{},loading:!1,deleting:!1})}},created(){a=this,a.do_load_grid()},beforeUpdate(){this.do_load_grid()},methods:{do_load_grid(){r.isObject(window.__grid__)||(window.__grid__={});let e=s.get.string(a.$route.query.parent,"_"),t=s.get.string(a.$route.query.name,"");if(e===a.parent&&t===a.name)return;a.parent=e,a.name=t,a.replica=null;let i=me+"_"+e+"_"+t;if(!window.__grid__[i])a.is_template_loading||(a.is_template_loading=!0,D.call({path:"/grid",params:{name:t,parent:e},onSuccess(l){try{let n=s.get.object(l);n._grid_id_=i;let d=s.get.object(n.table);s.prepare.toFunction(d.columns),n.table=d;let w=s.get.array(n.fields);s.prepare.toFunction(w),n.fields=w;let h=s.get.array(n.children);s.prepare.children(h),n.children=h;let c=s.get.object(n.enums);s.prepare.options(c),n.enums=c;let o=s.get.object(n.options);s.prepare.options(o),n.options=o;let u=s.get.array(n.forms);s.prepare.forms(u),n.forms=u;let k=s.get.object(n.picks);s.prepare.picks(k),n.picks=k,ue(i,n),a.template=window.__grid__[i],a.replica=s.get.firstArray(a.template.replicas),a.permission=a.get_permission(),a.do_load_data()}catch(n){r.log("<<get-grid-1::"+i+">>",n)}a.is_template_loading=!1},notify:!0,onError(){a.is_template_loading=!1}}));else{a.template=window.__grid__[i],a.replica=s.get.firstArray(a.template.replicas),a.permission=a.get_permission();try{a.do_load_data()}catch(l){r.log("<<get-grid-2::"+i+">>",l)}}},get_permission(){let e=a.template,t=s.get.object(e.table),i={actions:s.copy(e.actions)},l=t?.action?.exclude?t.action.exclude:[];return i.actions=e.actions.filter(n=>!l.includes(n)),i},do_load_data(){a.table={rows:[],columns:[{name:"_pk_"}],visibles:["_pk_"],selected:[],pagination:{},loading:!1,deleting:!1};let e=a.template,t=s.get.object(e.table),i=s.get.object(t.page),l=s.get.object(t.order);a.search={empty:!0,filters:s.copy(s.get.array(t.filters))},a.table.pagination={page:1,rowsPerPage:i.default,sortBy:l.field,descending:l.descending===!0},a.table.columns=t.columns,a.table.visibles=t.visibles,a.do_request({pagination:a.table.pagination})},do_request(e){s.action.page({props:e,table:a.table,search:a.search,definition:a.template,replica:a.replica})},on_refresh_click(){a.do_request({pagination:a.table.pagination})},on_delete_click(e){s.action.delete({row:e.row,definition:a.template,table:a.table,deleting:a.deleting,replica:a.replica,onSuccess:function(){a.do_request({pagination:a.table.pagination})}})},on_search_click(){_.dialog.show(a.dialog.search,{filters:s.copy(a.search.filters),template:a.template})},on_close_dialog_search(e){if(r.isArray(e)){let t=a.search,i,l;t.filters=e,t.empty=!0;for(const n of t.filters)if(i=r.isDefined(n.value)?n.value:"",l=r.isDefined(n.value2)?n.value2:"",i!==""||l!==""){t.empty=!1;break}_.dialog.hide(a.dialog.search),a.table.pagination.page=1,a.do_request({pagination:a.table.pagination})}},on_view_click(e){_.dialog.show(a.dialog.view,{template:a.template,replica:a.replica,row:e.row})},on_edit_click(e){_.dialog.show(a.dialog.edit,{template:a.template,replica:a.replica,row:e.row,index:e.rowIndex})},on_add_click(){_.dialog.show(a.dialog.edit,{template:a.template,replica:a.replica})},on_close_dialog_edit(e){let t=e.row;if(t)if(e.is_edit)if(r.isDefined(t._pk_))a.table.rows[e.index]=t;else{_.dialog.hide(a.dialog.edit),setTimeout(function(){_.dialog.show(a.dialog.edit,{template:a.template,replica:a.replica,row:t})},100);return}else a.do_request({pagination:a.table.pagination});_.dialog.hide(a.dialog.edit)},on_page_changed(){let e=+a.table.pagination.page;!isNaN(e)&&e>0&&a.do_request({pagination:a.table.pagination})}}},pe={class:"full-width row flex-center text-accent q-gutter-sm"},_e={class:"text-subtitle2"},be={key:0,class:"text-left"},he={class:"text-caption"};function ye(e,t,i,l,n,d){const w=Q("Search"),h=Q("View"),c=Q("Edit");return y(),G(Y,null,[m(se,{class:"table-sticky-header q-ma-sm",rows:l.table.rows,columns:l.table.columns,"visible-columns":l.table.visibles,"row-key":"_pk_",loading:l.table.loading,selection:l.util.isObject(l.template.table)?l.template.table.selection:"single",selected:l.table.selected,"onUpdate:selected":t[2]||(t[2]=o=>l.table.selected=o),pagination:l.table.pagination,"onUpdate:pagination":t[3]||(t[3]=o=>l.table.pagination=o),dense:e.$q.screen.lt.md,"no-data-label":e.$t("error.data_not_available"),"rows-per-page-label":" ","selected-rows-label":o=>{},"rows-per-page-options":l.util.isObject(l.template.table)&&l.template.table.page?.options?l.template.table.page.options:[10,20,30],onRequest:d.do_request,"binary-state-sort":"",separator:l.util.isObject(l.template.table)?l.template.table.separator:"cell",bordered:""},{top:f(()=>[l.util.isObject(l.template.table)&&l.template.table.selection==="multiple"&&l.fxGrid.permission.delete(l.permission)?(y(),v(V,{key:0,glossy:"",round:"",dense:"",class:"q-ma-none q-mr-md",color:"negative",icon:"delete",disable:!l.table.selected.length,loading:l.table.deleting,onClick:d.on_delete_click},{default:f(()=>[m(E,null,{default:f(()=>[q(C(e.$t("label.delete")),1)]),_:1})]),_:1},8,["disable","loading","onClick"])):O("",!0),l.fxGrid.permission.add(l.permission)?(y(),v(V,{key:1,glossy:"",round:"",dense:"",class:"q-ma-none q-mr-md",color:"teal",icon:"add",onClick:d.on_add_click},{default:f(()=>[m(E,null,{default:f(()=>[q(C(e.$t("label.new")),1)]),_:1})]),_:1},8,["onClick"])):O("",!0),m(M),l.template.replicas?.length?(y(),v(ne,{key:2,modelValue:l.replica,"onUpdate:modelValue":[t[0]||(t[0]=o=>l.replica=o),d.do_load_data],options:l.template.replicas,borderless:"",class:"text-h6",dense:""},{prepend:f(()=>[m(U,{name:"storage",class:"q-mr-sm"})]),option:f(o=>[m(ie,Z(K(o.itemProps)),{default:f(()=>[m(ae,null,{default:f(()=>[m(re,{class:"text-h6"},{default:f(()=>[q(C(o.label),1)]),_:2},1024)]),_:2},1024)]),_:2},1040)]),_:1},8,["modelValue","options","onUpdate:modelValue"])):O("",!0),m(M),l.search.filters?.length?(y(),v(V,{key:3,glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"deep-orange",icon:"search",onClick:d.on_search_click},{default:f(()=>[l.search.empty?O("",!0):(y(),v(oe,{key:0,class:"led-green",floating:""})),m(E,null,{default:f(()=>[q(C(e.$t("label.search")),1)]),_:1})]),_:1},8,["onClick"])):O("",!0),m(V,{glossy:"",round:"",dense:"",class:"q-ma-none q-ml-md",color:"indigo",icon:"refresh",loading:l.table.loading,onClick:d.on_refresh_click},{default:f(()=>[m(E,null,{default:f(()=>[q(C(e.$t("label.refresh")),1)]),_:1})]),_:1},8,["loading","onClick"])]),"no-data":f(({message:o})=>[L("div",pe,[m(U,{size:"2em",name:"block"}),L("span",_e,C(o),1)])]),loading:f(()=>[m(R,{showing:"",color:"primary"})]),"header-selection":f(o=>[l.util.isObject(l.template.table)&&l.template.table.selection==="multiple"&&l.fxGrid.permission.deletes(l.permission)?(y(),G("div",be,[m(B,{dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:o.selected,"onUpdate:modelValue":u=>o.selected=u},null,8,["modelValue","onUpdate:modelValue"])])):O("",!0)]),"body-selection":f(o=>[l.util.isObject(l.template.table)&&l.template.table.selection==="multiple"&&l.fxGrid.permission.deletes(l.permission)?(y(),v(B,{key:0,dense:"",color:"primary",class:"q-ma-none q-ml-sm q-mr-sm",modelValue:o.selected,"onUpdate:modelValue":u=>o.selected=u},null,8,["modelValue","onUpdate:modelValue"])):l.util.isObject(l.template.table)&&l.fxGrid.permission.delete(l.permission)?(y(),v(V,{key:1,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"negative",icon:"delete",onClick:u=>d.on_delete_click(o)},{default:f(()=>[m(E,null,{default:f(()=>[q(C(e.$t("label.delete")),1)]),_:1})]),_:2},1032,["onClick"])):O("",!0),l.fxGrid.permission.edit(l.permission)?(y(),v(V,{key:2,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"primary",icon:"drive_file_rename_outline",onClick:u=>d.on_edit_click(o)},{default:f(()=>[m(E,null,{default:f(()=>[q(C(e.$t("label.edit")),1)]),_:1})]),_:2},1032,["onClick"])):O("",!0),l.fxGrid.permission.view(l.permission)?(y(),v(V,{key:3,glossy:"",round:"",dense:"",size:"sm",class:"q-ma-none q-ml-xs q-mr-sm",color:"deep-purple",icon:"visibility",onClick:u=>d.on_view_click(o)},{default:f(()=>[m(E,null,{default:f(()=>[q(C(e.$t("label.view")),1)]),_:1})]),_:2},1032,["onClick"])):O("",!0)]),pagination:f(o=>[o.pagesNumber>2?(y(),v(V,{key:0,glossy:"",size:"sm",icon:"first_page",color:"grey-8",round:"",dense:"",flat:"",disable:o.isFirstPage,onClick:o.firstPage},null,8,["disable","onClick"])):O("",!0),m(V,{glossy:"",size:"sm",icon:"chevron_left",color:"grey-8",round:"",dense:"",flat:"",disable:o.isFirstPage,onClick:o.prevPage},null,8,["disable","onClick"]),m($,{dense:"",borderless:"",type:"number","input-class":"text-center q-ml-xs q-mr-xs","input-style":"max-width: 60px;",modelValue:l.table.pagination.page,"onUpdate:modelValue":[t[1]||(t[1]=u=>l.table.pagination.page=u),d.on_page_changed]},ee({_:2},[l.util.isObject(l.template.table)&&l.util.isObject(l.template.table.page)&&l.template.table.page.count===!0?{name:"append",fn:f(()=>[L("span",he," / "+C(o.pagesNumber),1)]),key:"0"}:void 0]),1032,["modelValue","onUpdate:modelValue"]),m(V,{glossy:"",size:"sm",icon:"chevron_right",color:"grey-8",round:"",dense:"",flat:"",disable:o.isLastPage,onClick:o.nextPage},null,8,["disable","onClick"]),o.pagesNumber>2?(y(),v(V,{key:1,glossy:"",size:"sm",icon:"last_page",color:"grey-8",round:"",dense:"",flat:"",disable:o.isLastPage,onClick:o.lastPage},null,8,["disable","onClick"])):O("",!0)]),_:1},8,["rows","columns","visible-columns","loading","selection","selected","pagination","dense","no-data-label","rows-per-page-options","onRequest","separator"]),m(R,{showing:l.is_template_loading},{default:f(()=>[m(fe,{size:"80px",color:"primary"})]),_:1},8,["showing"]),m(T,{modelValue:l.dialog.search.show,"onUpdate:modelValue":t[4]||(t[4]=o=>l.dialog.search.show=o),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(1px)"},{default:f(()=>[le(m(w,{parameters:l.dialog.search.parameters,onClose:d.on_close_dialog_search,style:te(l.dialog.search.style)},null,8,["parameters","onClose","style"]),[[de,l.dialog.search.onDrag,void 0,{mouse:!0}]])]),_:1},8,["modelValue"]),m(T,{modelValue:l.dialog.view.show,"onUpdate:modelValue":t[5]||(t[5]=o=>l.dialog.view.show=o),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(1px)"},{default:f(()=>[m(h,{parameters:l.dialog.view.parameters},null,8,["parameters"])]),_:1},8,["modelValue"]),m(T,{modelValue:l.dialog.edit.show,"onUpdate:modelValue":t[6]||(t[6]=o=>l.dialog.edit.show=o),persistent:"","transition-show":"slide-down","transition-hide":"none","backdrop-filter":"blur(1px)"},{default:f(()=>[m(c,{parameters:l.dialog.edit.parameters,onClose:d.on_close_dialog_edit},null,8,["parameters","onClose"])]),_:1},8,["modelValue"])],64)}const we=X(ge,[["render",ye]]),xe=Object.freeze(Object.defineProperty({__proto__:null,default:we},Symbol.toStringTag,{value:"Module"}));export{xe as I,s as g};
