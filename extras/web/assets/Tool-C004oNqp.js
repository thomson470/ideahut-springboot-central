import{c as He,h as xe,Q as ce,b as ue,a as pe}from"./format-ytY8laSO.js";import{Q as W}from"./QTooltip-CbCntXZw.js";import{l as _e,i as We,P as Ue,aw as Re,ax as Ge,ay as Xe,c as w,h as g,az as Ke,g as ye,r as S,aA as Ne,H as je,aB as Ye,v as Je,y as Ze,aC as $e,aD as ea,w as aa,n as la,b as ta,aE as na,aF as oa,aG as ze,G as ra,a6 as q,aH as sa,aI as ua,aJ as da,_ as ia,Z as J,a0 as I,$ as ee,ac as ca,ae as x,f as n,a5 as o,ao as de,am as pa,F as fa,a4 as U,a7 as B,a8 as z,Q as ne,an as oe,a2 as T,aa as Z,ak as G,aK as Ve,C as ma}from"./index-G1u9Lejy.js";import{Q as Qe}from"./QSelect-C3g-BVo1.js";import{Q as fe}from"./QInnerLoading-B33ywwoJ.js";import{Q as ga,a as Be,b as ba,c as Te}from"./QTabPanels-DMAYU8lg.js";import{Q as va}from"./QForm-CX1M49Px.js";import{C as _a}from"./ClosePopup-CT9nyDbK.js";import"./QResizeObserver-CYxcUGkk.js";const Pe=_e({name:"QUploaderAddTrigger",setup(){const e=We(Re,Ue);return e===Ue&&console.error("QUploaderAddTrigger needs to be child of QUploader"),e}}),ya={...Ge,min:{type:Number,default:0},max:{type:Number,default:100},color:String,centerColor:String,trackColor:String,fontSize:String,rounded:Boolean,thickness:{type:Number,default:.2,validator:e=>e>=0&&e<=1},angle:{type:Number,default:0},showValue:Boolean,reverse:Boolean,instantFeedback:Boolean},ve=50,De=2*ve,Le=De*Math.PI,ha=Math.round(Le*1e3)/1e3,ka=_e({name:"QCircularProgress",props:{...ya,value:{type:Number,default:0},animationSpeed:{type:[String,Number],default:600},indeterminate:Boolean},setup(e,{slots:l}){const{proxy:{$q:d}}=ye(),a=Xe(e),p=w(()=>{const h=(d.lang.rtl===!0?-1:1)*e.angle;return{transform:e.reverse!==(d.lang.rtl===!0)?`scale3d(-1, 1, 1) rotate3d(0, 0, 1, ${-90-h}deg)`:`rotate3d(0, 0, 1, ${h-90}deg)`}}),c=w(()=>e.instantFeedback!==!0&&e.indeterminate!==!0?{transition:`stroke-dashoffset ${e.animationSpeed}ms ease 0s, stroke ${e.animationSpeed}ms ease`}:""),s=w(()=>De/(1-e.thickness/2)),P=w(()=>`${s.value/2} ${s.value/2} ${s.value} ${s.value}`),R=w(()=>He(e.value,e.min,e.max)),D=w(()=>e.max-e.min),A=w(()=>e.thickness/2*s.value),O=w(()=>{const h=(e.max-R.value)/D.value,t=e.rounded===!0&&R.value<e.max&&h<.25?A.value/2*(1-h/.25):0;return Le*h+t});function N({thickness:h,offset:t,color:y,cls:E,rounded:b}){return g("circle",{class:"q-circular-progress__"+E+(y!==void 0?` text-${y}`:""),style:c.value,fill:"transparent",stroke:"currentColor","stroke-width":h,"stroke-dasharray":ha,"stroke-dashoffset":t,"stroke-linecap":b,cx:s.value,cy:s.value,r:ve})}return()=>{const h=[];e.centerColor!==void 0&&e.centerColor!=="transparent"&&h.push(g("circle",{class:`q-circular-progress__center text-${e.centerColor}`,fill:"currentColor",r:ve-A.value/2,cx:s.value,cy:s.value})),e.trackColor!==void 0&&e.trackColor!=="transparent"&&h.push(N({cls:"track",thickness:A.value,offset:0,color:e.trackColor})),h.push(N({cls:"circle",thickness:A.value,offset:O.value,color:e.color,rounded:e.rounded===!0?"round":void 0}));const t=[g("svg",{class:"q-circular-progress__svg",style:p.value,viewBox:P.value,"aria-hidden":"true"},h)];return e.showValue===!0&&t.push(g("div",{class:"q-circular-progress__text absolute-full row flex-center content-center",style:{fontSize:e.fontSize}},l.default!==void 0?l.default():[g("div",R.value)])),g("div",{class:`q-circular-progress q-circular-progress--${e.indeterminate===!0?"in":""}determinate`,style:a.value,role:"progressbar","aria-valuemin":e.min,"aria-valuemax":e.max,"aria-valuenow":e.indeterminate===!0?void 0:R.value},Ke(l.internal,t))}}});function re(e,l,d,a){const p=[];return e.forEach(c=>{a(c)===!0?p.push(c):l.push({failedPropValidation:d,file:c})}),p}function me(e){e&&e.dataTransfer&&(e.dataTransfer.dropEffect="copy"),je(e)}const wa={multiple:Boolean,accept:String,capture:String,maxFileSize:[Number,String],maxTotalSize:[Number,String],maxFiles:[Number,String],filter:Function},Fa=["rejected"];function qa({editable:e,dnd:l,getFileInput:d,addFilesToQueue:a}){const{props:p,emit:c,proxy:s}=ye(),P=S(null),R=w(()=>p.accept!==void 0?p.accept.split(",").map(u=>(u=u.trim(),u==="*"?"*/":(u.endsWith("/*")&&(u=u.slice(0,u.length-1)),u.toUpperCase()))):null),D=w(()=>parseInt(p.maxFiles,10)),A=w(()=>parseInt(p.maxTotalSize,10));function O(u){if(e.value)if(u!==Object(u)&&(u={target:null}),u.target!==null&&u.target.matches('input[type="file"]')===!0)u.clientX===0&&u.clientY===0&&Ne(u);else{const V=d();V&&V!==u.target&&V.click(u)}}function N(u){e.value&&u&&a(null,u)}function h(u,V,K,Y){let m=Array.from(V||u.target.files);const k=[],j=()=>{k.length!==0&&c("rejected",k)};if(p.accept!==void 0&&R.value.indexOf("*/")===-1&&(m=re(m,k,"accept",v=>R.value.some(F=>v.type.toUpperCase().startsWith(F)||v.name.toUpperCase().endsWith(F))),m.length===0))return j();if(p.maxFileSize!==void 0){const v=parseInt(p.maxFileSize,10);if(m=re(m,k,"max-file-size",F=>F.size<=v),m.length===0)return j()}if(p.multiple!==!0&&m.length!==0&&(m=[m[0]]),m.forEach(v=>{v.__key=v.webkitRelativePath+v.lastModified+v.name+v.size}),Y===!0){const v=K.map(F=>F.__key);m=re(m,k,"duplicate",F=>v.includes(F.__key)===!1)}if(m.length===0)return j();if(p.maxTotalSize!==void 0){let v=Y===!0?K.reduce((F,M)=>F+M.size,0):0;if(m=re(m,k,"max-total-size",F=>(v+=F.size,v<=A.value)),m.length===0)return j()}if(typeof p.filter=="function"){const v=p.filter(m);m=re(m,k,"filter",F=>v.includes(F))}if(p.maxFiles!==void 0){let v=Y===!0?K.length:0;if(m=re(m,k,"max-files",()=>(v++,v<=D.value)),m.length===0)return j()}if(j(),m.length!==0)return m}function t(u){me(u),l.value!==!0&&(l.value=!0)}function y(u){je(u),(u.relatedTarget!==null||Ye.is.safari!==!0?u.relatedTarget!==P.value:document.elementsFromPoint(u.clientX,u.clientY).includes(P.value)===!1)===!0&&(l.value=!1)}function E(u){me(u);const V=u.dataTransfer.files;V.length!==0&&a(null,V),l.value=!1}function b(u){if(l.value===!0)return g("div",{ref:P,class:`q-${u}__dnd absolute-full`,onDragenter:me,onDragover:me,onDragleave:y,onDrop:E})}return Object.assign(s,{pickFiles:O,addFiles:N}),{pickFiles:O,addFiles:N,onDragover:t,onDragleave:y,processFiles:h,getDndNode:b,maxFilesNumber:D,maxTotalSizeNumber:A}}function Ae(e){return(e*100).toFixed(2)+"%"}const Sa={...Je,...wa,label:String,color:String,textColor:String,square:Boolean,flat:Boolean,bordered:Boolean,noThumbnails:Boolean,thumbnailFit:{type:String,default:"cover"},autoUpload:Boolean,hideUploadBtn:Boolean,disable:Boolean,readonly:Boolean},Ie=[...Fa,"start","finish","added","removed"];function Ca(e,l){const d=ye(),{props:a,slots:p,emit:c,proxy:s}=d,{$q:P}=s,R=Ze(a,P);function D(r,_,C){if(r.__status=_,_==="idle"){r.__uploaded=0,r.__progress=0,r.__sizeLabel=xe(r.size),r.__progressLabel="0.00%";return}if(_==="failed"){s.$forceUpdate();return}r.__uploaded=_==="uploaded"?r.size:C,r.__progress=_==="uploaded"?1:Math.min(.9999,r.__uploaded/r.size),r.__progressLabel=Ae(r.__progress),s.$forceUpdate()}const A=w(()=>a.disable!==!0&&a.readonly!==!0),O=S(!1),N=S(null),h=S(null),t={files:S([]),queuedFiles:S([]),uploadedFiles:S([]),uploadedSize:S(0),updateFileStatus:D,isAlive:()=>$e(d)===!1},{pickFiles:y,addFiles:E,onDragover:b,onDragleave:u,processFiles:V,getDndNode:K,maxFilesNumber:Y,maxTotalSizeNumber:m}=qa({editable:A,dnd:O,getFileInput:we,addFilesToQueue:Fe});Object.assign(t,e({props:a,slots:p,emit:c,helpers:t,exposeApi:r=>{Object.assign(t,r)}})),t.isBusy===void 0&&(t.isBusy=S(!1));const k=S(0),j=w(()=>k.value===0?0:t.uploadedSize.value/k.value),v=w(()=>Ae(j.value)),F=w(()=>xe(k.value)),M=w(()=>A.value===!0&&t.isUploading.value!==!0&&(a.multiple===!0||t.queuedFiles.value.length===0)&&(a.maxFiles===void 0||t.files.value.length<Y.value)&&(a.maxTotalSize===void 0||k.value<m.value)),f=w(()=>A.value===!0&&t.isBusy.value!==!0&&t.isUploading.value!==!0&&t.queuedFiles.value.length!==0);ea(Re,Se);const $=w(()=>"q-uploader column no-wrap"+(R.value===!0?" q-uploader--dark q-dark":"")+(a.bordered===!0?" q-uploader--bordered":"")+(a.square===!0?" q-uploader--square no-border-radius":"")+(a.flat===!0?" q-uploader--flat no-shadow":"")+(a.disable===!0?" disabled q-uploader--disable":"")+(O.value===!0?" q-uploader--dnd":"")),ae=w(()=>"q-uploader__header"+(a.color!==void 0?` bg-${a.color}`:"")+(a.textColor!==void 0?` text-${a.textColor}`:""));aa(t.isUploading,(r,_)=>{_===!1&&r===!0?c("start"):_===!0&&r===!1&&c("finish")});function le(){a.disable===!1&&(t.abort(),t.uploadedSize.value=0,k.value=0,ke(),t.files.value=[],t.queuedFiles.value=[],t.uploadedFiles.value=[])}function L(){a.disable===!1&&he(["uploaded"],()=>{t.uploadedFiles.value=[]})}function ie(){he(["idle","failed"],({size:r})=>{k.value-=r,t.queuedFiles.value=[]})}function he(r,_){if(a.disable===!0)return;const C={files:[],size:0},H=t.files.value.filter(Q=>r.indexOf(Q.__status)===-1?!0:(C.size+=Q.size,C.files.push(Q),Q.__img!==void 0&&window.URL.revokeObjectURL(Q.__img.src),!1));C.files.length!==0&&(t.files.value=H,_(C),c("removed",C.files))}function be(r){a.disable||(r.__status==="uploaded"?t.uploadedFiles.value=t.uploadedFiles.value.filter(_=>_.__key!==r.__key):r.__status==="uploading"?r.__abort():k.value-=r.size,t.files.value=t.files.value.filter(_=>_.__key!==r.__key?!0:(_.__img!==void 0&&window.URL.revokeObjectURL(_.__img.src),!1)),t.queuedFiles.value=t.queuedFiles.value.filter(_=>_.__key!==r.__key),c("removed",[r]))}function ke(){t.files.value.forEach(r=>{r.__img!==void 0&&window.URL.revokeObjectURL(r.__img.src)})}function we(){return h.value||N.value.getElementsByClassName("q-uploader__input")[0]}function Fe(r,_){const C=V(r,_,t.files.value,!0),H=we();H!=null&&(H.value=""),C!==void 0&&(C.forEach(Q=>{if(t.updateFileStatus(Q,"idle"),k.value+=Q.size,a.noThumbnails!==!0&&Q.type.toUpperCase().startsWith("IMAGE")){const Ce=new Image;Ce.src=window.URL.createObjectURL(Q),Q.__img=Ce}}),t.files.value=t.files.value.concat(C),t.queuedFiles.value=t.queuedFiles.value.concat(C),c("added",C),a.autoUpload===!0&&t.upload())}function qe(){f.value===!0&&t.upload()}function se(r,_,C){if(r===!0){const H={type:"a",key:_,icon:P.iconSet.uploader[_],flat:!0,dense:!0};let Q;return _==="add"?(H.onClick=y,Q=Se):H.onClick=C,g(q,H,Q)}}function Se(){return g("input",{ref:h,class:"q-uploader__input overflow-hidden absolute-full",tabindex:-1,type:"file",title:"",accept:a.accept,multiple:a.multiple===!0?"multiple":void 0,capture:a.capture,onMousedown:Ne,onClick:y,onChange:Fe})}function Oe(){return p.header!==void 0?p.header(te):[g("div",{class:"q-uploader__header-content column"},[g("div",{class:"flex flex-center no-wrap q-gutter-xs"},[se(t.queuedFiles.value.length!==0,"removeQueue",ie),se(t.uploadedFiles.value.length!==0,"removeUploaded",L),t.isUploading.value===!0?g(ze,{class:"q-uploader__spinner"}):null,g("div",{class:"col column justify-center"},[a.label!==void 0?g("div",{class:"q-uploader__title"},[a.label]):null,g("div",{class:"q-uploader__subtitle"},[F.value+" / "+v.value])]),se(M.value,"add"),se(a.hideUploadBtn===!1&&f.value===!0,"upload",t.upload),se(t.isUploading.value,"clear",t.abort)])])]}function Me(){return p.list!==void 0?p.list(te):t.files.value.map(r=>g("div",{key:r.__key,class:"q-uploader__file relative-position"+(a.noThumbnails!==!0&&r.__img!==void 0?" q-uploader__file--img":"")+(r.__status==="failed"?" q-uploader__file--failed":r.__status==="uploaded"?" q-uploader__file--uploaded":""),style:a.noThumbnails!==!0&&r.__img!==void 0?{backgroundImage:'url("'+r.__img.src+'")',backgroundSize:a.thumbnailFit}:null},[g("div",{class:"q-uploader__file-header row flex-center no-wrap"},[r.__status==="failed"?g(ra,{class:"q-uploader__file-status",name:P.iconSet.type.negative,color:"negative"}):null,g("div",{class:"q-uploader__file-header-content col"},[g("div",{class:"q-uploader__title"},[r.name]),g("div",{class:"q-uploader__subtitle row items-center no-wrap"},[r.__sizeLabel+" / "+r.__progressLabel])]),r.__status==="uploading"?g(ka,{value:r.__progress,min:0,max:1,indeterminate:r.__progress===0}):g(q,{round:!0,dense:!0,flat:!0,icon:P.iconSet.uploader[r.__status==="uploaded"?"done":"clear"],onClick:()=>{be(r)}})])]))}la(()=>{t.isUploading.value===!0&&t.abort(),t.files.value.length!==0&&ke()});const te={};for(const r in t)ta(t[r])===!0?na(te,r,()=>t[r].value):te[r]=t[r];return Object.assign(te,{upload:qe,reset:le,removeUploadedFiles:L,removeQueuedFiles:ie,removeFile:be,pickFiles:y,addFiles:E}),oa(te,{canAddFiles:()=>M.value,canUpload:()=>f.value,uploadSizeLabel:()=>F.value,uploadProgressLabel:()=>v.value}),l({...t,upload:qe,reset:le,removeUploadedFiles:L,removeQueuedFiles:ie,removeFile:be,pickFiles:y,addFiles:E,canAddFiles:M,canUpload:f,uploadSizeLabel:F,uploadProgressLabel:v}),()=>{const r=[g("div",{class:ae.value},Oe()),g("div",{class:"q-uploader__list scroll"},Me()),K("uploader")];t.isBusy.value===!0&&r.push(g("div",{class:"q-uploader__overlay absolute-full flex flex-center"},[g(ze)]));const _={ref:N,class:$.value};return M.value===!0&&Object.assign(_,{onDragover:b,onDragleave:u}),g("div",_,r)}}const xa=()=>!0;function Ua(e){const l={};return e.forEach(d=>{l[d]=xa}),l}const za=Ua(Ie),Va=({name:e,props:l,emits:d,injectPlugin:a})=>_e({name:e,props:{...Sa,...l},emits:sa(d)===!0?{...za,...d}:[...Ie,...d],setup(p,{expose:c}){return Ca(a,c)}});function X(e){return typeof e=="function"?e:()=>e}const Qa="QUploader",Ba={url:[Function,String],method:{type:[Function,String],default:"POST"},fieldName:{type:[Function,String],default:()=>e=>e.name},headers:[Function,Array],formFields:[Function,Array],withCredentials:[Function,Boolean],sendRaw:[Function,Boolean],batch:[Function,Boolean],factory:Function},Ta=["factoryFailed","uploaded","failed","uploading"];function Pa({props:e,emit:l,helpers:d}){const a=S([]),p=S([]),c=S(0),s=w(()=>({url:X(e.url),method:X(e.method),headers:X(e.headers),formFields:X(e.formFields),fieldName:X(e.fieldName),withCredentials:X(e.withCredentials),sendRaw:X(e.sendRaw),batch:X(e.batch)})),P=w(()=>c.value>0),R=w(()=>p.value.length!==0);let D;function A(){a.value.forEach(t=>{t.abort()}),p.value.length!==0&&(D=!0)}function O(){const t=d.queuedFiles.value.slice(0);d.queuedFiles.value=[],s.value.batch(t)?N(t):t.forEach(y=>{N([y])})}function N(t){if(c.value++,typeof e.factory!="function"){h(t,{});return}const y=e.factory(t);if(!y)l("factoryFailed",new Error("QUploader: factory() does not return properly"),t),c.value--;else if(typeof y.catch=="function"&&typeof y.then=="function"){p.value.push(y);const E=b=>{d.isAlive()===!0&&(p.value=p.value.filter(u=>u!==y),p.value.length===0&&(D=!1),d.queuedFiles.value=d.queuedFiles.value.concat(t),t.forEach(u=>{d.updateFileStatus(u,"failed")}),l("factoryFailed",b,t),c.value--)};y.then(b=>{D===!0?E(new Error("Aborted")):d.isAlive()===!0&&(p.value=p.value.filter(u=>u!==y),h(t,b))}).catch(E)}else h(t,y||{})}function h(t,y){const E=new FormData,b=new XMLHttpRequest,u=(f,$)=>y[f]!==void 0?X(y[f])($):s.value[f]($),V=u("url",t);if(!V){console.error("q-uploader: invalid or no URL specified"),c.value--;return}const K=u("formFields",t);K!==void 0&&K.forEach(f=>{E.append(f.name,f.value)});let Y=0,m=0,k=0,j=0,v;b.upload.addEventListener("progress",f=>{if(v===!0)return;const $=Math.min(j,f.loaded);d.uploadedSize.value+=$-k,k=$;let ae=k-m;for(let le=Y;ae>0&&le<t.length;le++){const L=t[le];if(ae>L.size)ae-=L.size,Y++,m+=L.size,d.updateFileStatus(L,"uploading",L.size);else{d.updateFileStatus(L,"uploading",ae);return}}},!1),b.onreadystatechange=()=>{b.readyState<4||(b.status&&b.status<400?(d.uploadedFiles.value=d.uploadedFiles.value.concat(t),t.forEach(f=>{d.updateFileStatus(f,"uploaded")}),l("uploaded",{files:t,xhr:b})):(v=!0,d.uploadedSize.value-=k,d.queuedFiles.value=d.queuedFiles.value.concat(t),t.forEach(f=>{d.updateFileStatus(f,"failed")}),l("failed",{files:t,xhr:b})),c.value--,a.value=a.value.filter(f=>f!==b))},b.open(u("method",t),V),u("withCredentials",t)===!0&&(b.withCredentials=!0);const F=u("headers",t);F!==void 0&&F.forEach(f=>{b.setRequestHeader(f.name,f.value)});const M=u("sendRaw",t);t.forEach(f=>{d.updateFileStatus(f,"uploading",0),M!==!0&&E.append(u("fieldName",f),f,f.name),f.xhr=b,f.__abort=()=>{b.abort()},j+=f.size}),l("uploading",{files:t,xhr:b}),a.value.push(b),M===!0?b.send(new Blob(t)):b.send(E)}return{isUploading:P,isBusy:R,abort:A,upload:O}}const Aa={name:Qa,props:Ba,emits:Ta,injectPlugin:Pa},Ee=Va(Aa);function Ea(e){const l=document.createElement("textarea");l.value=e,l.contentEditable="true",l.style.position="fixed";const d=()=>{};ua(d),document.body.appendChild(l),l.focus(),l.select();const a=document.execCommand("copy");return l.remove(),da(d),a}function ge(e){return navigator.clipboard!==void 0?navigator.clipboard.writeText(e):new Promise((l,d)=>{const a=Ea(e);a?l(!0):d(a)})}let i;const Ra={setup(){return{util:J,uix:I,copyToClipboard:ge,image:S({types:[],type:null,file:null,loading:!1,copying:!1,path:null,sync:{show:!1,loading:!1,password:null}}),admin:S({loading:!1}),bcrypt:S({tab:"generate",rounds:[],round:null,copying:!1,checking:!1,gen_pass:null,gen_hash:null,chk_pass:null,chk_hash:null,chk_result:null}),password:S({factor:null,value:null,hashed:null,copying:!1,loading:!1})}},created(){i=this,ee.call({path:"/tool/image/types",onSuccess(e){i.image.types=[{label:"",value:null}],J.isArray(e)&&Array.prototype.push.apply(i.image.types,e)},notify:!1}),i.bcrypt.rounds=[null];for(let e=4;e<17;e++)i.bcrypt.rounds.push(e)},methods:{on_image_sync(){let e=i.image.sync.password;if(e=J.isString(e)?e:"",!e?.length){I.error("error.required","label.password");return}i.image.sync.loading=!0,ee.call({path:"/tool/image/sync",method:"post",params:{password:e},onFinish(){i.image.sync.loading=!1},onSuccess(){i.image.sync.show=!1}})},on_image_path_copy(){ge(i.image.path),i.image.copying=!0,setTimeout(function(){i.image.copying=!1},3e3)},on_image_upload(){let e=i.image.type;if(!e?.value){I.error("error.required","label.type");return}let l=i.image;if(!l.file){I.error("error.required","label.file");return}let d=new FormData;d.append("file",l.file),d.append("type",e.value),l.loading=!0,ee.call({path:"/tool/image/upload",method:"post",data:d,headers:{"Content-Type":"multipart/form-data"},onFinish(){l.loading=!1},onSuccess(a){l.path=a}})},on_image_sync_click(){i.image.sync={show:!0,password:null}},on_admin_upload(e){if(!(J.isArray(e.files)&&e.files.length)){I.error("error.required","label.file");return}let l=new FormData;l.append("file",e.files[0]),i.admin.loading=!0,ee.call({path:"/tool/admin/upload",method:"post",data:l,headers:{"Content-Type":"multipart/form-data"},onFinish(){i.admin.loading=!1},onSuccess(){e.reset(),I.alert("label.successfully_uploaded")}})},on_bcrypt_copy(){ge(i.bcrypt.gen_hash),i.bcrypt.copying=!0,setTimeout(function(){i.bcrypt.copying=!1},3e3)},on_bcrypt_generate(){let e=i.bcrypt.gen_pass;if(e=J.isString(e)?e:"",!e?.length){I.error("error.required","label.password");return}i.bcrypt.loading=!0,ee.call({path:"/tool/bcrypt/generate",method:"post",params:{round:i.bcrypt.round,password:e},onFinish(){i.bcrypt.loading=!1},onSuccess(l){i.bcrypt.gen_hash=l}})},on_bcrypt_check(){i.bcrypt.chk_result=null;let e=i.bcrypt.chk_pass;if(e=J.isString(e)?e:"",!e?.length){I.error("error.required","label.password");return}let l=i.bcrypt.chk_hash;if(l=J.isString(l)?l:"",!l?.length){I.error("error.required","label.hash");return}i.bcrypt.checking=!0,ee.call({path:"/tool/bcrypt/check",method:"post",params:{password:e,hash:l},onFinish(){i.bcrypt.checking=!1},onSuccess(d){i.bcrypt.chk_result=d}})},on_password_encrypt(){let e=i.password.value;if(e=J.isString(e)?e:"",!e?.length){I.error("error.required","label.password");return}i.password.loading=!0,ee.call({path:"/tool/password/encrypt",method:"post",params:{password:e,factor:i.password.factor},onFinish(){i.password.loading=!1},onSuccess(l){i.password.hashed=l}})},on_password_copy(){ge(i.password.hashed),i.password.copying=!0,setTimeout(function(){i.password.copying=!1},3e3)}}},Na={class:"row q-pl-sm q-pr-sm"},ja={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs q-mb-sm"},Da={class:"row no-wrap items-center q-pr-sm q-gutter-xs"},La={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs q-mb-sm"},Ia={class:"row no-wrap items-center q-pr-sm q-gutter-xs"},Oa={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs q-mb-sm"},Ma={class:"q-field--outlined q-pa-none"},Ha={class:"q-ml-md text-bold"},Wa={class:"col-lg-6 col-md-6 col-sm-12 col-xs-12 q-pa-xs q-mb-sm"},Ga={class:"row"},Xa={class:"col-6 text-left"},Ka={class:"col-6 text-right"};function Ya(e,l,d,a,p,c){return U(),ca(fa,null,[x("div",Na,[x("div",ja,[n(de,{bordered:""},{default:o(()=>[n(ce,null,{default:o(()=>[n(ue,null,{default:o(()=>[n(pe,{class:"text-h6"},{default:o(()=>[B(z(e.$t("label.image")),1)]),_:1})]),_:1}),n(ue,{side:""},{default:o(()=>[n(q,{class:"text-caption",flat:"",round:"",glossy:"",dense:"",icon:"cloud_sync",onClick:c.on_image_sync_click},{default:o(()=>[n(W,null,{default:o(()=>[B(z(e.$t("label.house_keeping")),1)]),_:1})]),_:1},8,["onClick"])]),_:1})]),_:1}),n(ne),n(oe,{class:"q-pa-xs"},{default:o(()=>[n(Ee,{style:{width:"100%"},accept:".jpg, .png, image/*",color:"transparent","hide-upload-btn":"",flat:"",bordered:"",onAdded:l[0]||(l[0]=s=>a.image.file=s[0]),onRemoved:l[1]||(l[1]=s=>a.image.file=null)},{header:o(s=>[x("div",Da,[l[18]||(l[18]=x("div",{class:"col"},null,-1)),s.canAddFiles?(U(),T(q,{key:0,type:"a",icon:"add_box",onClick:s.pickFiles,round:"",dense:"",flat:""},{default:o(()=>[n(Pe)]),_:2},1032,["onClick"])):Z("",!0)])]),_:1})]),_:1}),n(ne),a.image.file||a.image.path?(U(),T(Ve,{key:0,class:"q-pa-xs q-pl-sm q-pr-sm row"},{default:o(()=>[a.image.file&&!a.image.path?(U(),T(Qe,{key:0,class:"col-12",modelValue:a.image.type,"onUpdate:modelValue":l[2]||(l[2]=s=>a.image.type=s),label:e.$t("label.type"),options:a.image.types,"option-value":"value","option-label":"label",borderless:"",dense:""},{after:o(()=>[n(q,{flat:"",round:"",dense:"",icon:"send",onClick:c.on_image_upload},null,8,["onClick"])]),_:1},8,["modelValue","label","options"])):Z("",!0),a.image.file&&a.image.path?(U(),T(G,{key:1,class:"col-12",modelValue:a.image.path,"onUpdate:modelValue":l[3]||(l[3]=s=>a.image.path=s),standout:"",readonly:"",dense:""},{append:o(()=>[a.image.copying?(U(),T(q,{key:0,label:e.$t("copied"),flat:"",color:"green",dense:"",icon:"done_all","no-caps":"",disable:""},null,8,["label"])):(U(),T(q,{key:1,flat:"",round:"",dense:"",icon:"content_copy",onClick:c.on_image_path_copy},null,8,["onClick"]))]),_:1},8,["modelValue"])):Z("",!0)]),_:1})):Z("",!0),n(fe,{showing:a.image.loading},null,8,["showing"])]),_:1})]),x("div",La,[n(de,{bordered:""},{default:o(()=>[n(ce,null,{default:o(()=>[n(ue,null,{default:o(()=>[n(pe,{class:"text-h6"},{default:o(()=>[B(z(e.$t("label.admin")),1)]),_:1})]),_:1})]),_:1}),n(ne),n(oe,{class:"q-pa-xs"},{default:o(()=>[n(Ee,{style:{width:"100%"},accept:".zip",color:"transparent",flat:"",bordered:""},{header:o(s=>[x("div",Ia,[l[19]||(l[19]=x("div",{class:"col"},null,-1)),s.canAddFiles?(U(),T(q,{key:0,type:"a",icon:"add_box",onClick:s.pickFiles,round:"",dense:"",flat:""},{default:o(()=>[n(Pe)]),_:2},1032,["onClick"])):Z("",!0),s.canUpload?(U(),T(q,{key:1,icon:"cloud_upload",onClick:P=>c.on_admin_upload(s),round:"",dense:"",flat:""},{default:o(()=>[n(W,null,{default:o(()=>[B(z(e.$t("label.upload")),1)]),_:1})]),_:2},1032,["onClick"])):Z("",!0)])]),_:1})]),_:1}),n(fe,{showing:a.admin.loading},null,8,["showing"])]),_:1})]),x("div",Oa,[n(de,{bordered:""},{default:o(()=>[n(ce,null,{default:o(()=>[n(ue,null,{default:o(()=>[n(pe,{class:"text-h6"},{default:o(()=>[B(z(e.$t("label.bcrypt")),1)]),_:1})]),_:1})]),_:1}),n(ne),n(oe,{class:"q-pa-none"},{default:o(()=>[n(ga,{modelValue:a.bcrypt.tab,"onUpdate:modelValue":l[4]||(l[4]=s=>a.bcrypt.tab=s),dense:"","no-caps":"",align:"justify","inline-label":""},{default:o(()=>[n(Be,{name:"generate",icon:"pattern",label:e.$t("label.generate")},null,8,["label"]),n(Be,{name:"check",icon:"rule",label:e.$t("label.check")},null,8,["label"])]),_:1},8,["modelValue"]),n(ne),n(ba,{modelValue:a.bcrypt.tab,"onUpdate:modelValue":l[11]||(l[11]=s=>a.bcrypt.tab=s),animated:""},{default:o(()=>[n(Te,{name:"generate",class:"q-pa-sm"},{default:o(()=>[x("div",Ma,[n(G,{modelValue:a.bcrypt.gen_pass,"onUpdate:modelValue":l[6]||(l[6]=s=>a.bcrypt.gen_pass=s),label:e.$t("label.password"),class:"q-ma-none",borderless:"",dense:""},{prepend:o(()=>[n(Qe,{modelValue:a.bcrypt.round,"onUpdate:modelValue":l[5]||(l[5]=s=>a.bcrypt.round=s),options:a.bcrypt.rounds,dense:"",borderless:"",class:"q-mr-sm"},{prepend:o(()=>l[20]||(l[20]=[x("div",{style:{width:"5px"}},null,-1)])),default:o(()=>[n(W,null,{default:o(()=>[B(z(e.$t("label.round")),1)]),_:1})]),_:1},8,["modelValue","options"])]),append:o(()=>[n(q,{round:"",dense:"",flat:"",icon:"send",onClick:c.on_bcrypt_generate},{default:o(()=>[n(W,null,{default:o(()=>[B(z(e.$t("label.generate")),1)]),_:1})]),_:1},8,["onClick"])]),_:1},8,["modelValue","label"])]),a.bcrypt.gen_hash?.length?(U(),T(G,{key:0,modelValue:a.bcrypt.gen_hash,"onUpdate:modelValue":l[8]||(l[8]=s=>a.bcrypt.gen_hash=s),standout:"",readonly:"",dense:"",class:"q-mt-xs"},{prepend:o(()=>[n(q,{round:"",dense:"",flat:"",color:"negative",icon:"close",onClick:l[7]||(l[7]=s=>a.bcrypt.gen_hash=null)},{default:o(()=>[n(W,null,{default:o(()=>[B(z(e.$t("label.close")),1)]),_:1})]),_:1})]),append:o(()=>[a.bcrypt.copying?(U(),T(q,{key:0,label:e.$t("copied"),flat:"",color:"green",dense:"",icon:"done_all","no-caps":"",disable:""},null,8,["label"])):(U(),T(q,{key:1,flat:"",round:"",dense:"",icon:"content_copy",onClick:c.on_bcrypt_copy},{default:o(()=>[n(W,null,{default:o(()=>[B(z(e.$t("label.copy")),1)]),_:1})]),_:1},8,["onClick"]))]),_:1},8,["modelValue"])):Z("",!0)]),_:1}),n(Te,{name:"check",class:"q-pa-sm"},{default:o(()=>[n(G,{modelValue:a.bcrypt.chk_pass,"onUpdate:modelValue":l[9]||(l[9]=s=>a.bcrypt.chk_pass=s),label:e.$t("label.password"),outlined:"",dense:"",class:"q-mb-xs"},null,8,["modelValue","label"]),n(G,{modelValue:a.bcrypt.chk_hash,"onUpdate:modelValue":l[10]||(l[10]=s=>a.bcrypt.chk_hash=s),label:e.$t("label.hash"),outlined:"",dense:"",class:"q-mb-xs"},null,8,["modelValue","label"]),n(q,{label:e.$t("label.check"),loading:a.bcrypt.checking,glossy:"","no-caps":"",onClick:c.on_bcrypt_check},null,8,["label","loading","onClick"]),x("span",Ha,z(a.bcrypt.chk_result),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),n(fe,{showing:a.bcrypt.loading},null,8,["showing"])]),_:1})]),x("div",Wa,[n(de,{bordered:""},{default:o(()=>[n(ce,null,{default:o(()=>[n(ue,null,{default:o(()=>[n(pe,{class:"text-h6"},{default:o(()=>[B(z(e.$t("label.password")),1)]),_:1})]),_:1})]),_:1}),n(ne),n(oe,{class:"q-pa-sm"},{default:o(()=>[x("div",Ga,[n(G,{modelValue:a.password.factor,"onUpdate:modelValue":l[12]||(l[12]=s=>a.password.factor=s),type:"number",label:e.$t("label.factor"),class:"col-3",outlined:"",dense:""},null,8,["modelValue","label"]),n(G,{modelValue:a.password.value,"onUpdate:modelValue":l[13]||(l[13]=s=>a.password.value=s),label:e.$t("label.password"),class:"col-9",outlined:"",dense:""},{append:o(()=>[n(q,{round:"",dense:"",flat:"",icon:"send",loading:a.password.loading,onClick:c.on_password_encrypt},{default:o(()=>[n(W,null,{default:o(()=>[B(z(e.$t("label.generate")),1)]),_:1})]),_:1},8,["loading","onClick"])]),_:1},8,["modelValue","label"])]),a.password.hashed?.length?(U(),T(G,{key:0,modelValue:a.password.hashed,"onUpdate:modelValue":l[15]||(l[15]=s=>a.password.hashed=s),standout:"",readonly:"",dense:"",class:"q-mt-xs"},{prepend:o(()=>[n(q,{round:"",dense:"",flat:"",color:"negative",icon:"close",onClick:l[14]||(l[14]=s=>a.password.hashed=null)},{default:o(()=>[n(W,null,{default:o(()=>[B(z(e.$t("label.close")),1)]),_:1})]),_:1})]),append:o(()=>[a.password.copying?(U(),T(q,{key:0,label:e.$t("copied"),flat:"",color:"green",dense:"",icon:"done_all","no-caps":"",disable:""},null,8,["label"])):(U(),T(q,{key:1,flat:"",round:"",dense:"",icon:"content_copy",onClick:c.on_password_copy},{default:o(()=>[n(W,null,{default:o(()=>[B(z(e.$t("label.copy")),1)]),_:1})]),_:1},8,["onClick"]))]),_:1},8,["modelValue"])):Z("",!0)]),_:1}),n(fe,{showing:a.password.loading},null,8,["showing"])]),_:1})])]),n(pa,{modelValue:a.image.sync.show,"onUpdate:modelValue":l[17]||(l[17]=s=>a.image.sync.show=s),persistent:""},{default:o(()=>[n(de,null,{default:o(()=>[n(oe,{class:"q-pa-xs q-pl-lg q-pr-lg text-center"},{default:o(()=>[B(z(e.$t("label.password")),1)]),_:1}),n(oe,{class:"q-pa-sm"},{default:o(()=>[n(va,{onSubmit:c.on_image_sync},{default:o(()=>[n(G,{modelValue:a.image.sync.password,"onUpdate:modelValue":l[16]||(l[16]=s=>a.image.sync.password=s),type:"password",filled:"",dense:"","input-class":"text-center"},null,8,["modelValue"])]),_:1},8,["onSubmit"])]),_:1}),n(Ve,{class:"row"},{default:o(()=>[x("div",Xa,[ma(n(q,{"no-caps":"",ripple:"",glossy:"",label:e.$t("label.cancel"),color:"negative"},null,8,["label"]),[[_a]])]),x("div",Ka,[n(q,{"no-caps":"",ripple:"",glossy:"",label:e.$t("label.continue"),color:"positive",loading:a.image.sync.loading,onClick:c.on_image_sync},null,8,["label","loading","onClick"])])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const rl=ia(Ra,[["render",Ya]]);export{rl as default};
