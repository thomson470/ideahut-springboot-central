import{Q as w,b,a as y}from"./format-BYB7LI8Y.js";import{Q}from"./QTooltip-DTsmNrTK.js";import{_ as q,r as u,Y as m,a3 as f,a1 as c,a4 as l,f as s,al as h,a6 as x,a7 as _,B as v,a5 as V,aa as I,F as k,ab as B,ah as C,bo as S,am as D}from"./index-3Ds9K3sY.js";import{C as F}from"./ClosePopup-Cf-fI5V5.js";import{g as r}from"./Index-DuSzNtU_.js";import"./QSpace-CAwOBfmg.js";import"./QSelect-ybIcc9Im.js";import"./QTable-B2WsSpTs.js";import"./QList-CSjzfvcx.js";import"./QInnerLoading-7DJ72R4W.js";const $={props:["parameters"],setup(){return{title:u(null),fields:u([]),forms:u({}),loading:u({})}},created(){let t=this,i=r.get.object(t.parameters),d=r.get.object(i.row),o=r.get.object(i.definition);t.title=i.title,t.replica=r.get.number(i.replica,null),t.fields=[];let p=r.get.array(o.table.columns),n,a=!1;for(const e of p)!a&&o.id.fields.includes(e.field)&&(a=!0),n=m.getFieldValue(e.field,d),m.isFunction(e.format)&&(n=e.format(n,d)),t.fields.push({label:e.label,value:n});if(!a){let e=r.id.toPk(o.id,d);m.isDefined(e)&&e!==null&&t.fields.splice(0,0,{label:"ID",value:e})}}};function j(t,i,d,o,p,n){return f(),c(D,{style:S("width: "+(t.$q.screen.lt.md?"100%;":"50%;"))},{default:l(()=>[s(h,{class:"q-pa-none header-main"},{default:l(()=>[s(w,{class:"q-pr-none"},{default:l(()=>[s(b,null,{default:l(()=>[s(y,{class:"text-h6 text-white"},{default:l(()=>[x(_(o.title),1)]),_:1})]),_:1}),s(b,{side:""},{default:l(()=>[v((f(),c(V,{class:"text-caption text-white q-pl-xs q-pr-xs q-mr-xs",flat:"",round:"",glossy:"",icon:"close"},{default:l(()=>[s(Q,null,{default:l(()=>[x(_(t.$t("label.close")),1)]),_:1})]),_:1})),[[F]])]),_:1})]),_:1})]),_:1}),s(h,{style:{"max-height":"75vh"},class:"q-pa-xs q-mt-xs scroll"},{default:l(()=>[(f(!0),I(k,null,B(o.fields,(a,e)=>(f(),c(C,{type:"text",key:e,label:a.label,modelValue:a.value,"onUpdate:modelValue":g=>a.value=g,readonly:"",filled:"",autogrow:"",class:"q-mb-xs",style:{"max-height":"200px",overflow:"scroll"}},null,8,["label","modelValue","onUpdate:modelValue"]))),128))]),_:1})]),_:1},8,["style"])}const H=q($,[["render",j]]);export{H as default};
